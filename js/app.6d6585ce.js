(function(){"use strict";var t={86:function(t,e,r){r.d(e,{a:function(){return a}});const o="https://vue-study.skillbox.cc";e["Z"]=o;const a=6},3736:function(t,e,r){function o(t){return(new Intl.NumberFormat).format(t)}r.d(e,{Z:function(){return o}})},5448:function(t,e,r){var o=r(65),a=r(4870),s=r(3396);e["Z"]=()=>{const t=(0,o.oR)(),e=(0,a.iH)(!1),r=(0,a.iH)(!1),l=(0,s.Fl)((()=>t.getters.cartDetailProducts)),n=(0,s.Fl)((()=>t.getters.cartTotalPrice)),c=(o,a)=>{r.value=!1,e.value=!0,t.dispatch("addProductToCart",{productId:a,amount:o}).then((()=>{r.value=!0,e.value=!1}))},i=(e,r)=>{t.dispatch("updateCardProductAmount",{productId:e,amount:r})},u=e=>{t.dispatch("deleteCartProduct",e)};return{isAddSending:e,isAdded:r,products:l,totalPrice:n,doAdd:c,doUpdateAmount:i,doDelete:u}}},9321:function(t,e,r){var o=r(4870);e["Z"]=t=>{const e=(0,o.iH)(t),r=()=>{e.value>1&&(e.value-=1)},a=()=>{e.value+=1};return{count:e,doUpCount:a,doDownCount:r}}},3121:function(t,e,r){r.d(e,{Z:function(){return d}});var o=r(6265),a=r.n(o),s=r(86);const l=`${s.Z}/api/products`;var n={getList(t){return a().get(l,{params:t})},getById(t){return a().get(`${l}/${t}`)}},c=r(3736),i=r(4870),u=r(3396),d=()=>{const t=(0,i.iH)(null),e=(0,i.iH)(null),r=(0,u.Fl)((()=>t.value.category)),o=(0,i.qj)({priceFrom:0,priceTo:0,categoryId:0,color:0}),a=(0,i.qj)({isLoading:!1,isFailed:!1}),l=e=>{a.isLoading=!0,a.isFailed=!1,n.getById(e).then((e=>{const r=e.data;t.value=Object.assign(e.data,{pricePretty:(0,c.Z)(r.price),image:r.image.file.url})})).catch((()=>{a.isFailed=!0})).finally((()=>{a.isLoading=!1}))},d=t=>{a.isLoading=!0,a.isFailed=!1,n.getList({page:t,limit:s.a,categoryId:o.categoryId,minPrice:o.priceFrom,maxPrice:o.priceTo,colorId:o.color}).then((t=>{e.value=t.data})).catch((()=>{a.isFailed=!0})).finally((()=>{a.isLoading=!1}))};return{product:t,category:r,productListData:e,productListFilter:o,fetchProduct:l,fetchProductList:d,status:a}}},3088:function(t,e,r){var o=r(9242),a=r(3396),s=r(678);const l={class:"content container"},n=(0,a._)("div",{class:"content__top content__top--catalog"},[(0,a._)("h1",{class:"content__title"},"Каталог"),(0,a._)("span",{class:"content__info"}," 152 товара ")],-1),c={class:"content__catalog"},i={class:"catalog"},u={key:0,class:"loader"},d={key:1},_=(0,a._)("span",null,"Произошла ошибка при загрузке товаров",-1),p={key:2};function m(t,e,r,s,m,f){const g=(0,a.up)("ProductFilter"),h=(0,a.up)("ProductList"),b=(0,a.up)("BasePagination");return(0,a.wg)(),(0,a.iD)("main",l,[n,(0,a._)("div",c,[(0,a.Wm)(g,{"price-from":t.filter.priceFrom,"onUpdate:price-from":e[0]||(e[0]=e=>t.filter.priceFrom=e),"price-to":t.filter.priceTo,"onUpdate:price-to":e[1]||(e[1]=e=>t.filter.priceTo=e),"category-id":t.filter.categoryId,"onUpdate:category-id":e[2]||(e[2]=e=>t.filter.categoryId=e),color:t.filter.color,"onUpdate:color":e[3]||(e[3]=e=>t.filter.color=e)},null,8,["price-from","price-to","category-id","color"]),(0,a._)("section",i,[t.loadStatus.isLoading?((0,a.wg)(),(0,a.iD)("div",u,"Загрузка товаров...")):(0,a.kq)("",!0),t.loadStatus.isFailed?((0,a.wg)(),(0,a.iD)("div",d,[_,(0,a._)("button",{onClick:e[4]||(e[4]=(0,o.iM)((e=>t.loadProducts()),["prevent"]))},"Попробовать еще раз")])):(0,a.kq)("",!0),0===t.products.length?((0,a.wg)(),(0,a.iD)("div",p,"Товаров не найдено...")):(0,a.kq)("",!0),t.loadStatus.isLoading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(h,{key:3,products:t.products},null,8,["products"])),t.loadStatus.isLoading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(b,{key:4,modelValue:t.page,"onUpdate:modelValue":e[5]||(e[5]=e=>t.page=e),count:t.countProducts},null,8,["modelValue","count"]))])])])}var f=r(4870);const g={class:"catalog__list"};function h(t,e,r,o,s,l){const n=(0,a.up)("ProductItems");return(0,a.wg)(),(0,a.iD)("ul",g,[(0,a.Wm)(n,{class:"catalog__item",products:r.products},null,8,["products"])])}var b=r(7139);const v=["onClick"],y=["src","alt"],k={class:"catalog__title"},w={class:"catalog__price"},P={class:"colors colors--black"},C={class:"colors__label"},D=["value"];function I(t,e,r,s,l,n){const c=(0,a.up)("router-link"),i=(0,a.up)("ProductQuickView"),u=(0,a.up)("BaseModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.productsNormalized,(e=>((0,a.wg)(),(0,a.iD)("li",(0,a.dG)(t.$attrs,{key:e.id}),[(0,a._)("a",{href:"#",onClick:(0,o.iM)((t=>n.openQuickView(e.id)),["prevent"]),class:"catalog__pic"},[(0,a._)("img",{src:e.image,alt:e.title},null,8,y)],8,v),(0,a._)("h3",k,[(0,a.Wm)(c,{class:"catalog__link",to:{name:"product",params:{id:e.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,b.zw)(e.title),1)])),_:2},1032,["to"])]),(0,a._)("span",w,(0,b.zw)(e.pricePretty)+" ₽ ",1),(0,a._)("ul",P,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.colors,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"colors__item",key:t.id},[(0,a._)("label",C,[(0,a._)("input",{class:"colors__radio sr-only",type:"radio",value:t.title,name:"color"},null,8,D),(0,a._)("span",{class:"colors__value",style:(0,b.j5)({backgroundColor:t.code,border:"1px solid #a7a7a7"})},null,4)])])))),128))])],16)))),128)),(0,a.Wm)(u,{open:n.IsQuickViewOpen,"onUpdate:open":e[0]||(e[0]=t=>n.IsQuickViewOpen=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{"product-id":l.currentProductId},null,8,["product-id"])])),_:1},8,["open"])],64)}var A=r(3736),F=r(6910),Z={inheritAttrs:!1,props:["products"],data(){return{currentProductId:null}},components:{BaseModal:F.Z,ProductQuickView:(0,a.RC)({loader:()=>r.e(817).then(r.bind(r,7817)),delay:0,loadingComponent:()=>(0,a.h)("div","Загрузка...")})},methods:{openQuickView(t){this.currentProductId=t}},computed:{IsQuickViewOpen:{get(){return!!this.currentProductId},set(t){t||(this.currentProductId=null)}},productsNormalized(){return this.products.map((t=>({...t,pricePretty:(0,A.Z)(t.price)})))}}},U=r(89);const V=(0,U.Z)(Z,[["render",I]]);var z=V,$={components:{ProductItems:z},props:["products"]};const O=(0,U.Z)($,[["render",h]]);var T=O;const x={class:"catalog__pagination pagination"},L={class:"pagination__item"},j=(0,a._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-arrow-left"})],-1),E=[j],K=["onClick"],S={class:"pagination__item"},M=(0,a._)("svg",{width:" 8",height:"14",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-arrow-right"})],-1),W=[M];function q(t,e,r,s,l,n){return(0,a.wg)(),(0,a.iD)("ul",x,[(0,a._)("li",L,[(0,a._)("a",{class:(0,b.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":1===n.page}]),href:"#","aria-label":"Предыдущая страница",onClick:e[0]||(e[0]=(0,o.iM)((t=>n.paginatePrew(n.page)),["prevent"]))},E,2)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.pages,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"pagination__item",key:t},[(0,a._)("a",{href:"#",class:(0,b.C_)(["pagination__link",{"pagination__link--current":t===n.page}]),onClick:(0,o.iM)((e=>n.paginate(t)),["prevent"])},(0,b.zw)(t),11,K)])))),128)),(0,a._)("li",S,[(0,a._)("a",{class:(0,b.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":n.pages===n.page}]),href:"#","aria-label":"Следующая страница",onClick:e[1]||(e[1]=(0,o.iM)((t=>n.paginateNext(n.page)),["prevent"]))},W,2)])])}var H=r(86),B={props:["modelValue","count"],computed:{page(){return this.modelValue},pages(){return Math.ceil(this.count/H.a)}},methods:{paginate(t){t>=1&&t<=this.pages&&this.$emit("update:modelValue",t)},paginateNext(t){t>=1&&t<=this.pages&&this.$emit("update:modelValue",t+1)},paginatePrew(t){t>=1&&t<=this.pages&&this.$emit("update:modelValue",t-1)}}};const Y=(0,U.Z)(B,[["render",q]]);var N=Y;const Q={class:"filter"},R=(0,a._)("h2",{class:"filter__title"},"Фильтры",-1),G={class:"form__block"},X=(0,a._)("legend",{class:"form__legend"},"Цена",-1),J={class:"form__label form__label--price"},tt=(0,a._)("span",{class:"form__value"},"От",-1),et={class:"form__label form__label--price"},rt=(0,a._)("span",{class:"form__value"},"До",-1),ot={class:"form__block"},at=(0,a._)("legend",{class:"form__legend"},"Категория",-1),st={class:"form__label form__label--select"},lt=(0,a._)("option",{value:"0"},"Все категории",-1),nt=["value"],ct={class:"form__block"},it=(0,a._)("legend",{class:"form__legend"},"Цвет",-1),ut={class:"colors"},dt={class:"colors__label"},_t=["value"],pt=(0,a._)("button",{class:"filter__submit button button--primery",type:"submit"}," Применить ",-1);function mt(t,e,r,s,l,n){return(0,a.wg)(),(0,a.iD)("aside",Q,[R,(0,a._)("form",{class:"filter__form form",action:"#",method:"get",onSubmit:e[5]||(e[5]=(0,o.iM)(((...t)=>n.submit&&n.submit(...t)),["prevent"]))},[(0,a._)("fieldset",G,[X,(0,a._)("label",J,[(0,a.wy)((0,a._)("input",{class:"form__input",type:"text",name:"min-price","onUpdate:modelValue":e[0]||(e[0]=t=>l.currentPriceFrom=t)},null,512),[[o.nr,l.currentPriceFrom,void 0,{number:!0}]]),tt]),(0,a._)("label",et,[(0,a.wy)((0,a._)("input",{class:"form__input",type:"text",name:"max-price","onUpdate:modelValue":e[1]||(e[1]=t=>l.currentPriceTo=t)},null,512),[[o.nr,l.currentPriceTo,void 0,{number:!0}]]),rt])]),(0,a._)("fieldset",ot,[at,(0,a._)("label",st,[(0,a.wy)((0,a._)("select",{class:"form__select",name:"category","onUpdate:modelValue":e[2]||(e[2]=t=>l.currentCategoryId=t)},[lt,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.categories,(t=>((0,a.wg)(),(0,a.iD)("option",{value:t.id,key:t.id},(0,b.zw)(t.title),9,nt)))),128))],512),[[o.bM,l.currentCategoryId,void 0,{number:!0}]])])]),(0,a._)("fieldset",ct,[it,(0,a._)("ul",ut,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.colors,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"colors__item",key:t.id},[(0,a._)("label",dt,[(0,a.wy)((0,a._)("input",{class:"colors__radio sr-only",type:"radio",name:"color",value:t.id,"onUpdate:modelValue":e[3]||(e[3]=t=>l.currentColor=t)},null,8,_t),[[o.G2,l.currentColor]]),(0,a._)("span",{class:"colors__value",style:(0,b.j5)({backgroundColor:t.code})},null,4)])])))),128))])]),pt,(0,a._)("button",{class:"filter__reset button button--second",type:"button",onClick:e[4]||(e[4]=(...t)=>n.reset&&n.reset(...t))}," Сбросить ")],32)])}var ft=r(6265),gt=r.n(ft);function ht(){return gt().get(`${H.Z}/api/colors`)}function bt(){return gt().get(`${H.Z}/api/productCategories`)}var vt={data(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,currentColor:0,categoriesData:null,colorsData:null}},props:["priceFrom","priceTo","categoryId","color"],computed:{categories(){return this.categoriesData?this.categoriesData.items:[]},colors(){return this.colorsData?this.colorsData.items:[]}},watch:{priceFrom(t){this.currentPriceFrom=t},priceTo(t){this.currentPriceTo=t},categoryId(t){this.currentCategoryId=t},color(t){this.currentColor=t}},methods:{submit(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId),this.$emit("update:color",this.currentColor)},reset(){this.$emit("update:priceFrom",0),this.$emit("update:priceTo",0),this.$emit("update:categoryId",0),this.$emit("update:color",0)},loadCategories(){bt().then((t=>{this.categoriesData=t.data}))},loadColors(){ht().then((t=>{this.colorsData=t.data}))}},created(){this.loadCategories(),this.loadColors()}};const yt=(0,U.Z)(vt,[["render",mt]]);var kt=yt,wt=r(3121),Pt=(0,a.aZ)({components:{ProductList:T,BasePagination:N,ProductFilter:kt},setup(){const{productListData:t,fetchProductList:e,status:r,productListFilter:o}=(0,wt.Z)(),s=(0,f.iH)(1),l=(0,a.Fl)((()=>t.value?t.value.pagination.total:0)),n=(0,a.Fl)((()=>t.value?t.value.items.map((t=>({...t,image:t.image.file.url}))):[])),c=()=>{e(s.value)};return(0,a.YP)([s,o],(()=>{c()})),c(),{products:n,countProducts:l,filter:o,page:s,loadProducts:c,loadStatus:r}}});const Ct=(0,U.Z)(Pt,[["render",m]]);var Dt=Ct;function It(t,e,r,o,s,l){return(0,a.wg)(),(0,a.iD)("h1",null,"Страница не найдена.")}var At={};const Ft=(0,U.Z)(At,[["render",It]]);var Zt=Ft;const Ut={key:0,class:"content container loader"},Vt={key:1,class:"content container loader"},zt={key:2,class:"content container"},$t={key:0,class:"content__top"},Ot={class:"breadcrumbs"},Tt={class:"breadcrumbs__item"},xt=(0,a.Uk)(" Каталог "),Lt={class:"breadcrumbs__item"},jt={class:"breadcrumbs__item"},Et={class:"breadcrumbs__link"};function Kt(t,e,r,o,s,l){const n=(0,a.up)("router-link"),c=(0,a.up)("ProductDetails");return t.productStatus.isLoading?((0,a.wg)(),(0,a.iD)("main",Ut,"Загрузка товара...")):t.productStatus.isFailed?((0,a.wg)(),(0,a.iD)("main",Vt," Не удалость загрузить товар. ")):((0,a.wg)(),(0,a.iD)("main",zt,[t.product&&t.category?((0,a.wg)(),(0,a.iD)("div",$t,[(0,a._)("ul",Ot,[(0,a._)("li",Tt,[(0,a.Wm)(n,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,a.w5)((()=>[xt])),_:1})]),(0,a._)("li",Lt,[(0,a.Wm)(n,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,b.zw)(t.category.title),1)])),_:1})]),(0,a._)("li",jt,[(0,a._)("a",Et,(0,b.zw)(t.product.title),1)])])])):(0,a.kq)("",!0),(0,a.Wm)(c,{product:t.product},null,8,["product"])]))}var St=r(7893),Mt=(0,a.aZ)({components:{ProductDetails:St.Z},setup(){const t=(0,s.yj)(),e=t.params.id,{product:r,category:o,fetchProduct:a,status:l}=(0,wt.Z)();return a(e),{product:r,category:o,productStatus:l}}});const Wt=(0,U.Z)(Mt,[["render",Kt]]);var qt=Wt;const Ht={class:"content container"},Bt={class:"content__top"},Yt={class:"breadcrumbs"},Nt={class:"breadcrumbs__item"},Qt=(0,a.Uk)(" Каталог "),Rt=(0,a._)("li",{class:"breadcrumbs__item"},[(0,a._)("a",{class:"breadcrumbs__link"}," Корзина ")],-1),Gt=(0,a._)("h1",{class:"content__title"}," Корзина ",-1),Xt={class:"content__info"},Jt={key:0,class:"cart"},te={class:"cart__form form",action:"#",method:"POST"},ee={class:"cart__field"},re={class:"cart__list"},oe={class:"cart__block"},ae=(0,a._)("p",{class:"cart__desc"}," Мы посчитаем стоимость доставки на следующем этапе ",-1),se={class:"cart__price"},le=(0,a.Uk)(" Итого: "),ne=["disabled","onClick"],ce={key:1,class:"cart-empty"},ie=(0,a._)("h2",{class:"cart-empty__title"},"В корзине нет ни одного товара",-1),ue=(0,a.Uk)("Перейти к покупкам");function de(t,e,r,o,s,l){const n=(0,a.up)("router-link"),c=(0,a.up)("CartItem");return(0,a.wg)(),(0,a.iD)("main",Ht,[(0,a._)("div",Bt,[(0,a._)("ul",Yt,[(0,a._)("li",Nt,[(0,a.Wm)(n,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,a.w5)((()=>[Qt])),_:1})]),Rt]),Gt,(0,a._)("span",Xt,(0,b.zw)(t.products.length)+" "+(0,b.zw)(t.wordProductFormat),1)]),t.products.length?((0,a.wg)(),(0,a.iD)("section",Jt,[(0,a._)("form",te,[(0,a._)("div",ee,[(0,a._)("ul",re,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.products,(t=>((0,a.wg)(),(0,a.j4)(c,{item:t,key:t.productId},null,8,["item"])))),128))])]),(0,a._)("div",oe,[ae,(0,a._)("p",se,[le,(0,a._)("span",null,(0,b.zw)(t.totalPricePretty)+" ₽",1)]),(0,a.Wm)(n,{to:{name:"order"},custom:""},{default:(0,a.w5)((({navigate:e})=>[(0,a._)("button",{class:"cart__button button button--primery",disabled:!t.totalPrice,onClick:e}," Оформить заказ ",8,ne)])),_:1})])])])):((0,a.wg)(),(0,a.iD)("section",ce,[ie,(0,a.Wm)(n,{class:"cart-empty__link",to:{name:"main"}},{default:(0,a.w5)((()=>[ue])),_:1})]))])}const _e={class:"cart__item product"},pe={class:"product__pic"},me=["src","alt"],fe={class:"product__title"},ge=(0,a._)("p",{class:"product__info product__info--color"},[(0,a.Uk)(" Цвет: "),(0,a._)("span",null,[(0,a._)("i",{style:{"background-color":"#FF6B00"}}),(0,a.Uk)(" Оранжевый ")])],-1),he={class:"product__code"},be={class:"product__counter form__counter"},ve=(0,a._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-minus"})],-1),ye=[ve],ke=(0,a._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-plus"})],-1),we=[ke],Pe={class:"product__price"},Ce=(0,a._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-close"})],-1),De=[Ce];function Ie(t,e,r,s,l,n){return(0,a.wg)(),(0,a.iD)("li",_e,[(0,a._)("div",pe,[(0,a._)("img",{src:t.item.product.image,width:"120",height:"120",alt:t.item.product.title},null,8,me)]),(0,a._)("h3",fe,(0,b.zw)(t.item.product.title),1),ge,(0,a._)("span",he," Артикул: "+(0,b.zw)(t.item.product.id),1),(0,a._)("div",be,[(0,a._)("button",{type:"button","aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(0,o.iM)(((...e)=>t.downProductAmount&&t.downProductAmount(...e)),["prevent"]))},ye),(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>t.amount=e),name:"count"},null,512),[[o.nr,t.amount,void 0,{number:!0}]])]),(0,a._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[2]||(e[2]=(0,o.iM)(((...e)=>t.upProductAmount&&t.upProductAmount(...e)),["prevent"]))},we)]),(0,a._)("b",Pe,(0,b.zw)(t.totalPricePretty)+" ₽ ",1),(0,a._)("button",{class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины",onClick:e[3]||(e[3]=(0,o.iM)((e=>t.deleteProduct(t.item.productId)),["prevent"]))},De)])}var Ae=r(9321),Fe=r(5448),Ze=(0,a.aZ)({props:["item"],setup(t){const{doUpdateAmount:e,doDelete:r}=(0,Fe.Z)(),o=(0,a.Fl)((()=>(0,A.Z)(t.item.product.price*t.item.amount))),s=(0,a.Fl)({get(){return t.item.amount},set(r){e(t.item.productId,r)}}),{doUpCount:l,doDownCount:n}=(0,Ae.Z)(s);return{totalPricePretty:o,amount:s,upProductAmount:l,downProductAmount:n,deleteProduct:r}}});const Ue=(0,U.Z)(Ze,[["render",Ie]]);var Ve=Ue;function ze(t,e){return e%100>=11&&e%100<=20?`${t}ов`:e%10===1?t:e%10>=2&&e%10<=4?`${t}a`:`${t}ов`}var $e=(0,a.aZ)({components:{CartItem:Ve},setup(){const{products:t,totalPrice:e}=(0,Fe.Z)(),r=(0,a.Fl)((()=>(0,A.Z)(e.value))),o=(0,a.Fl)((()=>ze("товар",t.value.length)));return{products:t,totalPrice:e,totalPricePretty:r,wordProductFormat:o}}});const Oe=(0,U.Z)($e,[["render",de]]);var Te=Oe;const xe={class:"content container"},Le={class:"content__top"},je={class:"breadcrumbs"},Ee={class:"breadcrumbs__item"},Ke=(0,a.Uk)(" Каталог "),Se={class:"breadcrumbs__item"},Me=(0,a.Uk)(" Корзина "),We=(0,a._)("li",{class:"breadcrumbs__item"},[(0,a._)("a",{class:"breadcrumbs__link"}," Оформление заказа ")],-1),qe=(0,a._)("h1",{class:"content__title"}," Корзина ",-1),He={class:"content__info"},Be={class:"cart"},Ye={key:0,class:"ghost"},Ne=(0,a._)("div",{class:"loader"},"Загрузка...",-1),Qe=[Ne],Re={class:"cart__field"},Ge={class:"cart__data"},Xe=(0,a.uE)('<div class="cart__options"><h3 class="cart__title">Доставка</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="0" checked=""><span class="options__value"> Самовывоз <b>бесплатно</b></span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="500"><span class="options__value"> Курьером <b>500 ₽</b></span></label></li></ul><h3 class="cart__title">Оплата</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="card"><span class="options__value"> Картой при получении </span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="cash"><span class="options__value"> Наличными при получении </span></label></li></ul></div>',1),Je={class:"cart__block"},tr={class:"cart__orders"},er={class:"cart__total"},rr=(0,a._)("p",null,[(0,a.Uk)("Доставка: "),(0,a._)("b",null,"500 ₽")],-1),or=(0,a.Uk)("Итого: "),ar=(0,a._)("button",{class:"cart__button button button--primery",type:"submit"}," Оформить заказ ",-1),sr={key:0,class:"cart__error form__error-block"},lr=(0,a._)("h4",null,"Заявка не отправлена!",-1);function nr(t,e,r,s,l,n){const c=(0,a.up)("router-link"),i=(0,a.up)("BaseFormText"),u=(0,a.up)("BaseFormTextarea"),d=(0,a.up)("OrderItem");return(0,a.wg)(),(0,a.iD)("main",xe,[(0,a._)("div",Le,[(0,a._)("ul",je,[(0,a._)("li",Ee,[(0,a.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,a.w5)((()=>[Ke])),_:1})]),(0,a._)("li",Se,[(0,a.Wm)(c,{class:"breadcrumbs__link",to:{name:"cart"}},{default:(0,a.w5)((()=>[Me])),_:1})]),We]),qe,(0,a._)("span",He,(0,b.zw)(t.products.length)+" "+(0,b.zw)(n.wordProductFormat),1)]),(0,a._)("section",Be,[l.orderLoading?((0,a.wg)(),(0,a.iD)("div",Ye,Qe)):(0,a.kq)("",!0),(0,a._)("form",{class:"cart__form form",action:"#",method:"POST",onSubmit:e[5]||(e[5]=(0,o.iM)(((...t)=>n.order&&n.order(...t)),["prevent"]))},[(0,a._)("div",Re,[(0,a._)("div",Ge,[(0,a.Wm)(i,{title:"ФИО",error:l.formError.name,modelValue:l.formData.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.formData.name=t),placeholder:"Введите ваше полное имя"},null,8,["error","modelValue"]),(0,a.Wm)(i,{title:"Адрес доставки",error:l.formError.address,modelValue:l.formData.address,"onUpdate:modelValue":e[1]||(e[1]=t=>l.formData.address=t),placeholder:"Введите ваш адрес"},null,8,["error","modelValue"]),(0,a.Wm)(i,{title:"Телефон",error:l.formError.phone,modelValue:l.formData.phone,"onUpdate:modelValue":e[2]||(e[2]=t=>l.formData.phone=t),type:"'tel",placeholder:"Введите ваш телефон"},null,8,["error","modelValue"]),(0,a.Wm)(i,{title:"Email",error:l.formError.email,modelValue:l.formData.email,"onUpdate:modelValue":e[3]||(e[3]=t=>l.formData.email=t),type:"'email",placeholder:"Введите ваш Email"},null,8,["error","modelValue"]),(0,a.Wm)(u,{title:"Комментарий к заказу",error:l.formError.comment,modelValue:l.formData.comment,"onUpdate:modelValue":e[4]||(e[4]=t=>l.formData.comment=t),placeholder:"Ваши пожелания"},null,8,["error","modelValue"])]),Xe]),(0,a._)("div",Je,[(0,a._)("ul",tr,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.products,(t=>((0,a.wg)(),(0,a.j4)(d,{item:t,key:t.productId},null,8,["item"])))),128))]),(0,a._)("div",er,[rr,(0,a._)("p",null,[or,(0,a._)("b",null,(0,b.zw)(t.products.length),1),(0,a.Uk)(" "+(0,b.zw)(n.wordProductFormat)+" на сумму ",1),(0,a._)("b",null,(0,b.zw)(n.totalPricePretty)+" ₽",1)])]),ar]),l.formErrorMessage?((0,a.wg)(),(0,a.iD)("div",sr,[lr,(0,a._)("p",null,(0,b.zw)(l.formErrorMessage),1)])):(0,a.kq)("",!0)],32)])])}const cr={class:"cart__order"};function ir(t,e,r,o,s,l){return(0,a.wg)(),(0,a.iD)("li",cr,[(0,a._)("h3",null,(0,b.zw)(r.item.product.title),1),(0,a._)("b",null,(0,b.zw)(r.item.amount)+" X "+(0,b.zw)(l.pricePretty)+" ₽",1),(0,a._)("span",null,"Артикул: "+(0,b.zw)(r.item.product.id),1)])}var ur={props:["item"],computed:{pricePretty(){return(0,A.Z)(this.item.product.price)}}};const dr=(0,U.Z)(ur,[["render",ir]]);var _r=dr;const pr=["type","placeholder"];function mr(t,e,r,s,l,n){const c=(0,a.up)("BaseFormField");return(0,a.wg)(),(0,a.j4)(c,{error:t.error,title:t.title},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("input",{class:"form__input","onUpdate:modelValue":e[0]||(e[0]=e=>t.dataValue=e),type:r.type,placeholder:t.placeholder},null,8,pr),[[o.YZ,t.dataValue]])])),_:1},8,["error","title"])}const fr={class:"form__label"},gr={class:"form__value"},hr={key:0,class:"form__error"};function br(t,e,r,o,s,l){return(0,a.wg)(),(0,a.iD)("label",fr,[(0,a.WI)(t.$slots,"default"),(0,a._)("span",gr,(0,b.zw)(r.title),1),r.error?((0,a.wg)(),(0,a.iD)("span",hr,(0,b.zw)(r.error),1)):(0,a.kq)("",!0)])}var vr={props:["title","error"]};const yr=(0,U.Z)(vr,[["render",br]]);var kr=yr,wr={props:["title","error","placeholder","modelValue"],components:{BaseFormField:kr},computed:{dataValue:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}}},Pr={props:{type:{default:"text"}},mixins:[wr]};const Cr=(0,U.Z)(Pr,[["render",mr]]);var Dr=Cr;const Ir=["placeholder"];function Ar(t,e,r,s,l,n){const c=(0,a.up)("BaseFormField");return(0,a.wg)(),(0,a.j4)(c,{error:t.error,title:t.title},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("textarea",{class:"form__input form__input--area","onUpdate:modelValue":e[0]||(e[0]=e=>t.dataValue=e),placeholder:t.placeholder},null,8,Ir),[[o.nr,t.dataValue]])])),_:1},8,["error","title"])}var Fr={mixins:[wr]};const Zr=(0,U.Z)(Fr,[["render",Ar]]);var Ur=Zr,Vr=r(65);const zr=`${H.Z}/api/orders`;var $r={get(t,e){return gt().get(`${zr}/${t}`,{params:e})},create(t,e){return gt().post(zr,t,{params:e})}},Or={components:{BaseFormText:Dr,BaseFormTextarea:Ur,OrderItem:_r},data(){return{formData:{},formError:{},formErrorMessage:"",orderLoading:!1}},computed:{...(0,Vr.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice"}),totalPricePretty(){return(0,A.Z)(this.totalPrice)},wordProductFormat(){return ze("товар",this.products.length)}},methods:{order(){this.formError={},this.formErrorMessage="",this.orderLoading=!0,$r.create({...this.formData},{userAccessKey:this.$store.state.userAccessKey}).then((t=>{this.$store.commit("resetCart"),this.$store.commit("updateOrderInfo",t.data),this.$router.push({name:"orderInfo",params:{id:t.data.id}})})).catch((t=>{this.formError=t.response.data.error.request||{},this.formErrorMessage=t.response.data.error.message})).finally((()=>{this.orderLoading=!1}))}}};const Tr=(0,U.Z)(Or,[["render",nr]]);var xr=Tr;const Lr={class:"content container"},jr={class:"content__top"},Er={class:"breadcrumbs"},Kr={class:"breadcrumbs__item"},Sr=(0,a.Uk)(" Каталог "),Mr={class:"breadcrumbs__item"},Wr=(0,a.Uk)(" Корзина "),qr=(0,a._)("li",{class:"breadcrumbs__item"},[(0,a._)("a",{class:"breadcrumbs__link"}," Оформление заказа ")],-1),Hr={key:0,class:"loader"},Br={key:1,class:"loader"},Yr={key:2,class:"content__title"},Nr=(0,a.Uk)(" Заказ оформлен "),Qr={key:0,class:"cart"},Rr={class:"cart__form form",action:"#",method:"POST"},Gr={class:"cart__field"},Xr=(0,a._)("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),Jr={class:"dictionary"},to={class:"dictionary__item"},eo=(0,a._)("span",{class:"dictionary__key"}," Получатель ",-1),ro={class:"dictionary__value"},oo={class:"dictionary__item"},ao=(0,a._)("span",{class:"dictionary__key"}," Адрес доставки ",-1),so={class:"dictionary__value"},lo={class:"dictionary__item"},no=(0,a._)("span",{class:"dictionary__key"}," Телефон ",-1),co={class:"dictionary__value"},io={class:"dictionary__item"},uo=(0,a._)("span",{class:"dictionary__key"}," Email ",-1),_o={class:"dictionary__value"},po=(0,a._)("li",{class:"dictionary__item"},[(0,a._)("span",{class:"dictionary__key"}," Способ оплаты "),(0,a._)("span",{class:"dictionary__value"}," картой при получении ")],-1),mo={class:"cart__block"},fo={class:"cart__orders"},go={class:"cart__total"},ho=(0,a._)("p",null,[(0,a.Uk)("Доставка: "),(0,a._)("b",null,"500 ₽")],-1),bo=(0,a.Uk)("Итого: ");function vo(t,e,r,o,s,l){const n=(0,a.up)("router-link"),c=(0,a.up)("OrderItem");return(0,a.wg)(),(0,a.iD)("main",Lr,[(0,a._)("div",jr,[(0,a._)("ul",Er,[(0,a._)("li",Kr,[(0,a.Wm)(n,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,a.w5)((()=>[Sr])),_:1})]),(0,a._)("li",Mr,[(0,a.Wm)(n,{class:"breadcrumbs__link",to:{name:"cart"}},{default:(0,a.w5)((()=>[Wr])),_:1})]),qr]),s.orderLoader?((0,a.wg)(),(0,a.iD)("div",Hr,"Загрузка")):(0,a.kq)("",!0),s.orderErrorLoad?((0,a.wg)(),(0,a.iD)("div",Br,"Не удалось загрузить информацию о заказе")):(0,a.kq)("",!0),s.orderData?((0,a.wg)(),(0,a.iD)("h1",Yr,[Nr,(0,a._)("span",null,"№ "+(0,b.zw)(l.order.id),1)])):(0,a.kq)("",!0)]),s.orderData?((0,a.wg)(),(0,a.iD)("section",Qr,[(0,a._)("form",Rr,[(0,a._)("div",Gr,[Xr,(0,a._)("ul",Jr,[(0,a._)("li",to,[eo,(0,a._)("span",ro,(0,b.zw)(l.order.name),1)]),(0,a._)("li",oo,[ao,(0,a._)("span",so,(0,b.zw)(l.order.address),1)]),(0,a._)("li",lo,[no,(0,a._)("span",co,(0,b.zw)(l.order.phone),1)]),(0,a._)("li",io,[uo,(0,a._)("span",_o,(0,b.zw)(l.order.email),1)]),po])]),(0,a._)("div",mo,[(0,a._)("ul",fo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.order.basket.items,(t=>((0,a.wg)(),(0,a.j4)(c,{item:t,key:t.id},null,8,["item"])))),128))]),(0,a._)("div",go,[ho,(0,a._)("p",null,[bo,(0,a._)("b",null,(0,b.zw)(l.order.basket.items.length),1),(0,a.Uk)(" "+(0,b.zw)(l.wordProductFormat)+" на сумму ",1),(0,a._)("b",null,(0,b.zw)(l.totalPricePretty)+" ₽",1)])])])])])):(0,a.kq)("",!0)])}var yo={components:{OrderItem:_r},data(){return{orderLoader:!1,orderErrorLoad:!1,orderData:null}},computed:{order(){return{...this.orderData,basket:{...this.orderData.basket,items:this.orderData.basket.items.map((t=>({...t,amount:t.quantity})))}}},totalPricePretty(){return(0,A.Z)(this.order.totalPrice)},wordProductFormat(){return ze("товар",this.order.basket.items.length)}},methods:{...(0,Vr.nv)(["loadOrderInfo"])},created(){if(this.orderLoader=!0,this.orderErrorLoad=!1,this.$store.state.orderInfo&&this.$store.state.orderInfo.id===this.$route.params.id)return this.orderData=this.$store.state.orderInfo,void(this.orderLoader=!1);this.loadOrderInfo(this.$route.params.id).then((()=>{this.orderData=this.$store.state.orderInfo})).catch((()=>{this.orderErrorLoad=!0})).finally((()=>{this.orderLoader=!1}))}};const ko=(0,U.Z)(yo,[["render",vo]]);var wo=ko;const Po=[{name:"main",component:Dt,path:"/"},{name:"product",component:qt,path:"/product/:id"},{name:"cart",component:Te,path:"/cart"},{name:"order",component:xr,path:"/order"},{name:"orderInfo",component:wo,path:"/order/:id"},{name:"notFound",component:Zt,path:"/:pathMatch(.*)*"}],Co=(0,s.p7)({history:(0,s.r5)(),routes:Po});var Do=Co;const Io=`${H.Z}/api/baskets`;var Ao={getProduct(t){return gt().get(Io,{params:t})},addProduct(t,e){return gt().post(`${Io}/products`,t,{params:e})},updateAmountProduct(t,e){return gt().put(`${Io}/products`,t,{params:e})},deleteProduct(t,e){return gt()["delete"](`${Io}/products`,{data:t,params:e})}},Fo=(0,Vr.MT)({state:{cartProducts:[],userAccessKey:null,cartProductsData:null,orderInfo:null},mutations:{updateOrderInfo(t,e){t.orderInfo=e},resetCart(t){t.cartProducts=[],t.cartProductsData=[]},updateCardProductAmount(t,{productId:e,amount:r}){const o=t.cartProducts.find((t=>t.productId===e));o&&(o.amount=r)},deleteCartProduct(t,e){t.cartProducts=t.cartProducts.filter((t=>t.productId!==e))},updateUserAccessKey(t,e){t.userAccessKey=e},updateCartProductsData(t,e){t.cartProductsData=e},syncCartProducts(t){t.cartProducts=t.cartProductsData.map((t=>({productId:t.product.id,amount:t.quantity})))}},getters:{cartDetailProducts(t){return t.cartProducts.map((e=>{const{product:r}=t.cartProductsData.find((t=>t.product.id===e.productId));return{...e,product:{...r,image:r.image.file.url}}}))},cartTotalPrice(t,e){return e.cartDetailProducts.reduce(((t,e)=>e.product.price*e.amount+t),0)}},actions:{loadOrderInfo(t,e){return $r.get(e,{userAccessKey:t.state.userAccessKey}).then((e=>{t.commit("updateOrderInfo",e.data)}))},loadCart(t){return Ao.getProduct({userAccessKey:t.state.userAccessKey}).then((e=>{t.state.userAccessKey||(localStorage.setItem("userAccessKey",e.data.user.accessKey),t.commit("updateUserAccessKey",e.data.user.accessKey)),t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},addProductToCart(t,{productId:e,amount:r}){return Ao.addProduct({productId:e,quantity:r},{userAccessKey:t.state.userAccessKey}).then((e=>{t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},updateCardProductAmount(t,{productId:e,amount:r}){return t.commit("updateCardProductAmount",{productId:e,amount:r}),!(r<1)&&Ao.updateAmountProduct({productId:e,quantity:r},{userAccessKey:t.state.userAccessKey}).then((e=>{t.commit("updateCartProductsData",e.data.items)})).catch((()=>{t.commit("syncCartProducts")}))},deleteCartProduct(t,e){return Ao.deleteProduct({productId:e},{userAccessKey:t.state.userAccessKey}).then((()=>{t.commit("deleteCartProduct",e)}))}}});const Zo={class:"header"},Uo={class:"header__wrapper container"},Vo=(0,a._)("span",{class:"header__info"},"Каталог",-1),zo=(0,a._)("a",{class:"header__logo",href:"#"},[(0,a._)("img",{src:"img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"})],-1),$o=(0,a._)("a",{class:"header__tel",href:"tel:88006009009"}," 8 800 600 90 09 ",-1),Oo=(0,a.uE)('<footer class="footer"><div class="footer__wrapper container"><ul class="footer__links"><li><a class="footer__link" href="#"> Каталог </a></li><li><a class="footer__link" href="tel:88006009009"> 8 800 600 90 09 </a></li><li><a class="footer__link" href="mailto:hi@technozavrrr.com"> hi@technozavrrr.com </a></li><li><a class="footer__link" href="#"> Распродажа </a></li><li><a class="footer__link footer__link--medium" href="#"> Заказать звонок </a></li></ul><ul class="footer__social social"><li class="social__item"><a class="social__link" href="#" aria-label="Вконтакте"><svg width="20" height="11" fill="currentColor"><use xlink:href="#icon-vk"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Инстаграм"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-insta"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Facebook"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-facebook"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Twitter"><svg width="17" height="14" fill="currentColor"><use xlink:href="#icon-twitter"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Telegram"><svg width="19" height="17" fill="currentColor"><use xlink:href="#icon-telegram"></use></svg></a></li></ul><p class="footer__desc"> Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. </p><ul class="footer__data"><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Политика конфиденциальности </a></li><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Публичная оферта </a></li></ul><span class="footer__copyright"> © 2020 Технозавррр </span></div></footer><div id="teleport-target"></div>',2);function To(t,e,r,o,s,l){const n=(0,a.up)("CartIndicator"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("header",Zo,[(0,a._)("div",Uo,[Vo,zo,$o,(0,a.Wm)(n)])]),((0,a.wg)(),(0,a.j4)(c,{key:t.$route.fullPath})),Oo],64)}const xo=(0,a._)("svg",{width:"30",height:"21",fill:"currentColor"},[(0,a._)("use",{"xlink:href":"#icon-cart"})],-1);function Lo(t,e,r,s,l,n){const c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(c,{class:"header__cart",to:{name:"cart"},"aria-label":"Корзина с товарами"},{default:(0,a.w5)((()=>[xo,(0,a.wy)((0,a._)("span",{class:"header__count","aria-label":"Количество товаров"},(0,b.zw)(n.amountProducts),513),[[o.F8,n.amountProducts]])])),_:1})}var jo={computed:{amountProducts(){return this.$store.state.cartProducts.length}}};const Eo=(0,U.Z)(jo,[["render",Lo]]);var Ko=Eo,So={components:{CartIndicator:Ko},created(){const t=localStorage.getItem("userAccessKey");t&&this.updateUserAccessKey(t),this.loadCart()},methods:{...(0,Vr.nv)(["loadCart"]),...(0,Vr.OI)(["updateUserAccessKey"])}};const Mo=(0,U.Z)(So,[["render",To]]);var Wo=Mo;const qo=(0,o.ri)({router:Do,store:Fo,render:()=>(0,a.h)(Wo)});qo.use(Do),qo.use(Fo),qo.mount("#app")},6910:function(t,e,r){r.d(e,{Z:function(){return p}});var o=r(3396);const a={ref:"contentElement",class:"modal"},s={class:"modal__content"};function l(t,e,r,l,n,c){return t.open?((0,o.wg)(),(0,o.j4)(o.lR,{key:0,to:"#teleport-target"},[(0,o._)("div",{class:"modal-wrapper",onClick:e[1]||(e[1]=(...e)=>t.onOutsideClick&&t.onOutsideClick(...e))},[(0,o._)("div",a,[(0,o._)("button",{class:"modal__close-btn",onClick:e[0]||(e[0]=(...e)=>t.doClose&&t.doClose(...e))},"X"),(0,o._)("div",s,[(0,o.WI)(t.$slots,"default")])],512)])])):(0,o.kq)("",!0)}var n=r(4870);const c=(0,n.iH)(new Set);var i=()=>{const{uid:t}=(0,o.FN)(),e=(0,n.iH)(!1),r=()=>{e.value=!0,c.value.add(t)},a=()=>{e.value=!1,c.value.delete(t)},s=(0,o.Fl)((()=>c.value.size)),l=()=>{s.value?(document.body.style.overflow="hidden",document.body.style.paddingRight=window.innerWidth-document.documentElement.clientWidth+"px"):(document.body.style.overflow=null,document.body.style.paddingRight=null)};return(0,o.YP)(s,(()=>{l()})),{doOpen:r,doClose:a,isOpen:e,isSomeOpen:s}},u=(0,o.aZ)({props:{open:{type:Boolean}},setup(t,{emit:e}){const r=(0,n.iH)(null),{doOpen:a,doClose:s}=i(),l=()=>{e("update:open",!1)},c=t=>{t.target!==r.value&&t.target.contains(r.value)&&l()};return(0,o.YP)((()=>t.open),(t=>{t?a():s()}),{immediate:!0}),{doClose:l,onOutsideClick:c,contentElement:r}}}),d=r(89);const _=(0,d.Z)(u,[["render",l]]);var p=_},7893:function(t,e,r){r.d(e,{Z:function(){return K}});var o=r(3396),a=r(7139),s=r(9242);const l=t=>((0,o.dD)("data-v-1b6f50a4"),t=t(),(0,o.Cn)(),t),n={class:"item"},c={class:"item__pics pics"},i={class:"pics__wrapper"},u=["src","alt"],d={class:"item__info"},_={class:"item__code"},p={class:"item__title"},m={class:"item__form"},f={class:"item__price"},g={class:"form__block"},h=l((()=>(0,o._)("legend",{class:"form__legend"},"Цвет:",-1))),b={class:"colors"},v={class:"colors__label"},y=["value"],k={class:"item__row"},w={class:"form__counter"},P=l((()=>(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-minus"})],-1))),C=[P],D=l((()=>(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-plus"})],-1))),I=[D],A=["disabled"],F={class:"loader loader--small"},Z=(0,o.Uk)("Товар добавлен в корзину"),U={class:"item__desc"},V=(0,o.uE)('<ul class="tabs" data-v-1b6f50a4><li class="tabs__item" data-v-1b6f50a4><a class="tabs__link tabs__link--current" data-v-1b6f50a4> Описание </a></li><li class="tabs__item" data-v-1b6f50a4><a class="tabs__link" href="#" data-v-1b6f50a4> Характеристики </a></li><li class="tabs__item" data-v-1b6f50a4><a class="tabs__link" href="#" data-v-1b6f50a4> Гарантия </a></li><li class="tabs__item" data-v-1b6f50a4><a class="tabs__link" href="#" data-v-1b6f50a4> Оплата и доставка </a></li></ul>',1),z={class:"item__content"};function $(t,e,r,l,P,D){const $=(0,o.up)("BaseModal");return(0,o.wg)(),(0,o.iD)("section",n,[(0,o._)("div",c,[(0,o._)("div",i,[(0,o._)("img",{src:t.product.image,alt:t.product.title},null,8,u)])]),(0,o._)("div",d,[(0,o._)("span",_,"Артикул: "+(0,a.zw)(t.product.id),1),(0,o._)("h2",p,(0,a.zw)(t.product.title),1),(0,o._)("div",m,[(0,o._)("form",{class:"form",action:"#",method:"POST",onSubmit:e[4]||(e[4]=(0,s.iM)(((...e)=>t.doAddToCart&&t.doAddToCart(...e)),["prevent"]))},[(0,o._)("b",f,(0,a.zw)(t.product.pricePretty)+" ₽ ",1),(0,o._)("fieldset",g,[h,(0,o._)("ul",b,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.product.colors,(t=>((0,o.wg)(),(0,o.iD)("li",{class:"colors__item",key:t.id},[(0,o._)("label",v,[(0,o._)("input",{class:"colors__radio sr-only",type:"radio",name:"color-item",value:t.id},null,8,y),(0,o._)("span",{class:"colors__value",style:(0,a.j5)({backgroundColor:t.code})},null,4)])])))),128))])]),(0,o._)("div",k,[(0,o._)("div",w,[(0,o._)("button",{type:"button",class:(0,a.C_)({disabled:t.productAmount<=1}),"aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(...e)=>t.doDownProductAmount&&t.doDownProductAmount(...e))},C,2),(0,o._)("label",null,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=e=>t.productAmount=e),name:"count"},null,512),[[s.nr,t.productAmount,void 0,{number:!0}]])]),(0,o._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[2]||(e[2]=(...e)=>t.doUpProductAmount&&t.doUpProductAmount(...e))},I)]),(0,o._)("button",{class:(0,a.C_)(["button button--primery",{"button--load":t.isProductAddSending}]),type:"submit",disabled:t.isProductAddSending},[(0,o.wy)((0,o._)("span",null,"В корзину",512),[[s.F8,!t.isProductAddSending]]),(0,o.wy)((0,o._)("span",F,null,512),[[s.F8,t.isProductAddSending]])],10,A),(0,o.Wm)($,{open:t.isProductAdded,"onUpdate:open":e[3]||(e[3]=e=>t.isProductAdded=e)},{default:(0,o.w5)((()=>[Z])),_:1},8,["open"])])],32)])]),(0,o._)("div",U,[V,(0,o._)("div",z,[(0,o._)("p",null,(0,a.zw)(t.product.content),1)])])])}var O=r(6910),T=r(9321),x=r(5448),L=(0,o.aZ)({props:{product:{type:[Object],required:!0}},components:{BaseModal:O.Z},setup(t){const{count:e,doUpCount:r,doDownCount:o}=(0,T.Z)(1),{isAddSending:a,isAdded:s,doAdd:l}=(0,x.Z)(),n=()=>{l(e.value,t.product.id),e.value=1};return{isProductAddSending:a,isProductAdded:s,productAmount:e,doDownProductAmount:o,doUpProductAmount:r,doAddToCart:n}}}),j=r(89);const E=(0,j.Z)(L,[["render",$],["__scopeId","data-v-1b6f50a4"]]);var K=E}},e={};function r(o){var a=e[o];if(void 0!==a)return a.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,o,a,s){if(!o){var l=1/0;for(u=0;u<t.length;u++){o=t[u][0],a=t[u][1],s=t[u][2];for(var n=!0,c=0;c<o.length;c++)(!1&s||l>=s)&&Object.keys(r.O).every((function(t){return r.O[t](o[c])}))?o.splice(c--,1):(n=!1,s<l&&(l=s));if(n){t.splice(u--,1);var i=a();void 0!==i&&(e=i)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[o,a,s]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,o){return r.f[o](t,e),e}),[]))}}(),function(){r.u=function(t){return"js/"+t+".f8b81513.js"}}(),function(){r.miniCssF=function(t){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vue_project:";r.l=function(o,a,s,l){if(t[o])t[o].push(a);else{var n,c;if(void 0!==s)for(var i=document.getElementsByTagName("script"),u=0;u<i.length;u++){var d=i[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==e+s){n=d;break}}n||(c=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,r.nc&&n.setAttribute("nonce",r.nc),n.setAttribute("data-webpack",e+s),n.src=o),t[o]=[a];var _=function(e,r){n.onerror=n.onload=null,clearTimeout(p);var a=t[o];if(delete t[o],n.parentNode&&n.parentNode.removeChild(n),a&&a.forEach((function(t){return t(r)})),e)return e(r)},p=setTimeout(_.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=_.bind(null,n.onerror),n.onload=_.bind(null,n.onload),c&&document.head.appendChild(n)}}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p="/vue-app/"}(),function(){var t={143:0};r.f.j=function(e,o){var a=r.o(t,e)?t[e]:void 0;if(0!==a)if(a)o.push(a[2]);else{var s=new Promise((function(r,o){a=t[e]=[r,o]}));o.push(a[2]=s);var l=r.p+r.u(e),n=new Error,c=function(o){if(r.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var s=o&&("load"===o.type?"missing":o.type),l=o&&o.target&&o.target.src;n.message="Loading chunk "+e+" failed.\n("+s+": "+l+")",n.name="ChunkLoadError",n.type=s,n.request=l,a[1](n)}};r.l(l,c,"chunk-"+e,e)}},r.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,s,l=o[0],n=o[1],c=o[2],i=0;if(l.some((function(e){return 0!==t[e]}))){for(a in n)r.o(n,a)&&(r.m[a]=n[a]);if(c)var u=c(r)}for(e&&e(o);i<l.length;i++)s=l[i],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(u)},o=self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(3088)}));o=r.O(o)})();
//# sourceMappingURL=app.6d6585ce.js.map