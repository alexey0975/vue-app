(function(){"use strict";var t={86:function(t,e,r){r.d(e,{a:function(){return n}});var o="https://vue-study.skillbox.cc";e["Z"]=o;var n=6},3736:function(t,e,r){function o(t){return(new Intl.NumberFormat).format(t)}r.d(e,{Z:function(){return o}})},5448:function(t,e,r){var o=r(4824),n=r(4870),a=r(3396);e["Z"]=function(){var t=(0,o.oR)(),e=(0,n.iH)(!1),r=(0,n.iH)(!1),i=(0,a.Fl)((function(){return t.getters.cartDetailProducts})),c=(0,a.Fl)((function(){return t.getters.cartTotalPrice})),l=function(o,n){r.value=!1,e.value=!0,t.dispatch("addProductToCart",{productId:n,amount:o}).then((function(){r.value=!0,e.value=!1}))},u=function(e,r){t.dispatch("updateCardProductAmount",{productId:e,amount:r})},s=function(e){t.dispatch("deleteCartProduct",e)};return{isAddSending:e,isAdded:r,products:i,totalPrice:c,doAdd:l,doUpdateAmount:u,doDelete:s}}},9321:function(t,e,r){var o=r(4870);e["Z"]=function(t){var e=(0,o.iH)(t),r=function(){e.value>1&&(e.value-=1)},n=function(){e.value+=1};return{count:e,doUpCount:n,doDownCount:r}}},3121:function(t,e,r){r.d(e,{Z:function(){return d}});r(1539),r(2222);var o=r(6265),n=r.n(o),a=r(86),i="".concat(a.Z,"/api/products"),c={getList:function(t){return n().get(i,{params:t})},getById:function(t){return n().get("".concat(i,"/").concat(t))}},l=r(3736),u=r(4870),s=r(3396),d=function(){var t=(0,u.iH)(null),e=(0,u.iH)(null),r=(0,s.Fl)((function(){return t.value.category})),o=(0,u.qj)({priceFrom:0,priceTo:0,categoryId:0,color:0}),n=(0,u.qj)({isLoading:!1,isFailed:!1}),i=function(e){n.isLoading=!0,n.isFailed=!1,c.getById(e).then((function(e){var r=e.data;t.value=Object.assign(e.data,{pricePretty:(0,l.Z)(r.price),image:r.image.file.url})})).catch((function(){n.isFailed=!0})).finally((function(){n.isLoading=!1}))},d=function(t){n.isLoading=!0,n.isFailed=!1,c.getList({page:t,limit:a.a,categoryId:o.categoryId,minPrice:o.priceFrom,maxPrice:o.priceTo,colorId:o.color}).then((function(t){e.value=t.data})).catch((function(){n.isFailed=!0})).finally((function(){n.isLoading=!1}))};return{product:t,category:r,productListData:e,productListFilter:o,fetchProduct:i,fetchProductList:d,status:n}}},3088:function(t,e,r){r(6992),r(8674),r(9601),r(7727);var o=r(5772),n=r(3396),a=r(302),i=(r(7327),r(1539),{class:"content container"}),c=(0,n._)("div",{class:"content__top content__top--catalog"},[(0,n._)("h1",{class:"content__title"},"Каталог"),(0,n._)("span",{class:"content__info"}," 152 товара ")],-1),l={class:"content__catalog"},u={class:"catalog"},s={key:0,class:"loader"},d={key:1},_=(0,n._)("span",null,"Произошла ошибка при загрузке товаров",-1),p={key:2};function m(t,e,r,a,m,f){var g=(0,n.up)("ProductFilter"),h=(0,n.up)("ProductList"),v=(0,n.up)("BasePagination");return(0,n.wg)(),(0,n.iD)("main",i,[c,(0,n._)("div",l,[(0,n.Wm)(g,{"price-from":t.filter.priceFrom,"onUpdate:price-from":e[0]||(e[0]=function(e){return t.filter.priceFrom=e}),"price-to":t.filter.priceTo,"onUpdate:price-to":e[1]||(e[1]=function(e){return t.filter.priceTo=e}),"category-id":t.filter.categoryId,"onUpdate:category-id":e[2]||(e[2]=function(e){return t.filter.categoryId=e}),color:t.filter.color,"onUpdate:color":e[3]||(e[3]=function(e){return t.filter.color=e})},null,8,["price-from","price-to","category-id","color"]),(0,n._)("section",u,[t.loadStatus.isLoading?((0,n.wg)(),(0,n.iD)("div",s,"Загрузка товаров...")):(0,n.kq)("",!0),t.loadStatus.isFailed?((0,n.wg)(),(0,n.iD)("div",d,[_,(0,n._)("button",{onClick:e[4]||(e[4]=(0,o.iM)((function(e){return t.loadProducts()}),["prevent"]))},"Попробовать еще раз")])):(0,n.kq)("",!0),0===t.products.length?((0,n.wg)(),(0,n.iD)("div",p,"Товаров не найдено...")):(0,n.kq)("",!0),t.loadStatus.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(h,{key:3,products:t.products},null,8,["products"])),t.loadStatus.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(v,{key:4,modelValue:t.page,"onUpdate:modelValue":e[5]||(e[5]=function(e){return t.page=e}),count:t.countProducts},null,8,["modelValue","count"]))])])])}var f=r(5082),g=(r(1249),r(4870)),h={class:"catalog__list"};function v(t,e,r,o,a,i){var c=(0,n.up)("ProductItems");return(0,n.wg)(),(0,n.iD)("ul",h,[(0,n.Wm)(c,{class:"catalog__item",products:r.products},null,8,["products"])])}var b=r(7139),y=["onClick"],k=["src","alt"],w={class:"catalog__title"},P={class:"catalog__price"},C={class:"colors colors--black"},D={class:"colors__label"},Z=["value"];function I(t,e,r,a,i,c){var l=(0,n.up)("router-link"),u=(0,n.up)("ProductQuickView"),s=(0,n.up)("BaseModal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.productsNormalized,(function(e){return(0,n.wg)(),(0,n.iD)("li",(0,n.dG)(t.$attrs,{key:e.id}),[(0,n._)("a",{href:"#",onClick:(0,o.iM)((function(t){return c.openQuickView(e.id)}),["prevent"]),class:"catalog__pic"},[(0,n._)("img",{src:e.image,alt:e.title},null,8,k)],8,y),(0,n._)("h3",w,[(0,n.Wm)(l,{class:"catalog__link",to:{name:"product",params:{id:e.id}}},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,b.zw)(e.title),1)]})),_:2},1032,["to"])]),(0,n._)("span",P,(0,b.zw)(e.pricePretty)+" ₽ ",1),(0,n._)("ul",C,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.colors,(function(t){return(0,n.wg)(),(0,n.iD)("li",{class:"colors__item",key:t.id},[(0,n._)("label",D,[(0,n._)("input",{class:"colors__radio sr-only",type:"radio",value:t.title,name:"color"},null,8,Z),(0,n._)("span",{class:"colors__value",style:(0,b.j5)({backgroundColor:t.code,border:"1px solid #a7a7a7"})},null,4)])])})),128))])],16)})),128)),(0,n.Wm)(s,{open:c.IsQuickViewOpen,"onUpdate:open":e[0]||(e[0]=function(t){return c.IsQuickViewOpen=t})},{default:(0,n.w5)((function(){return[(0,n.Wm)(u,{"product-id":i.currentProductId},null,8,["product-id"])]})),_:1},8,["open"])],64)}r(8783),r(3948);var A=r(3736),F=r(6910),U={inheritAttrs:!1,props:["products"],data:function(){return{currentProductId:null}},components:{BaseModal:F.Z,ProductQuickView:(0,n.RC)({loader:function(){return r.e(817).then(r.bind(r,7817))},delay:0,loadingComponent:function(){return(0,n.h)("div","Загрузка...")}})},methods:{openQuickView:function(t){this.currentProductId=t}},computed:{IsQuickViewOpen:{get:function(){return!!this.currentProductId},set:function(t){t||(this.currentProductId=null)}},productsNormalized:function(){return this.products.map((function(t){return(0,f.Z)((0,f.Z)({},t),{},{pricePretty:(0,A.Z)(t.price)})}))}}},V=r(89);const z=(0,V.Z)(U,[["render",I]]);var O=z,T={components:{ProductItems:O},props:["products"]};const x=(0,V.Z)(T,[["render",v]]);var L=x,j={class:"catalog__pagination pagination"},E={class:"pagination__item"},K=(0,n._)("svg",{width:"8",height:"14",fill:"currentColor"},[(0,n._)("use",{"xlink:href":"#icon-arrow-left"})],-1),S=[K],M=["onClick"],$={class:"pagination__item"},W=(0,n._)("svg",{width:" 8",height:"14",fill:"currentColor"},[(0,n._)("use",{"xlink:href":"#icon-arrow-right"})],-1),q=[W];function H(t,e,r,a,i,c){return(0,n.wg)(),(0,n.iD)("ul",j,[(0,n._)("li",E,[(0,n._)("a",{class:(0,b.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":1===c.page}]),href:"#","aria-label":"Предыдущая страница",onClick:e[0]||(e[0]=(0,o.iM)((function(t){return c.paginatePrew(c.page)}),["prevent"]))},S,2)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.pages,(function(t){return(0,n.wg)(),(0,n.iD)("li",{class:"pagination__item",key:t},[(0,n._)("a",{href:"#",class:(0,b.C_)(["pagination__link",{"pagination__link--current":t===c.page}]),onClick:(0,o.iM)((function(e){return c.paginate(t)}),["prevent"])},(0,b.zw)(t),11,M)])})),128)),(0,n._)("li",$,[(0,n._)("a",{class:(0,b.C_)(["pagination__link pagination__link--arrow",{"pagination__link--disabled":c.pages===c.page}]),href:"#","aria-label":"Следующая страница",onClick:e[1]||(e[1]=(0,o.iM)((function(t){return c.paginateNext(c.page)}),["prevent"]))},q,2)])])}var B=r(86),Y={props:["modelValue","count"],computed:{page:function(){return this.modelValue},pages:function(){return Math.ceil(this.count/B.a)}},methods:{paginate:function(t){t>=1&&t<=this.pages&&this.$emit("update:modelValue",t)},paginateNext:function(t){t>=1&&t<=this.pages&&this.$emit("update:modelValue",t+1)},paginatePrew:function(t){t>=1&&t<=this.pages&&this.$emit("update:modelValue",t-1)}}};const N=(0,V.Z)(Y,[["render",H]]);var Q=N,R={class:"filter"},G=(0,n._)("h2",{class:"filter__title"},"Фильтры",-1),X={class:"form__block"},J=(0,n._)("legend",{class:"form__legend"},"Цена",-1),tt={class:"form__label form__label--price"},et=(0,n._)("span",{class:"form__value"},"От",-1),rt={class:"form__label form__label--price"},ot=(0,n._)("span",{class:"form__value"},"До",-1),nt={class:"form__block"},at=(0,n._)("legend",{class:"form__legend"},"Категория",-1),it={class:"form__label form__label--select"},ct=(0,n._)("option",{value:"0"},"Все категории",-1),lt=["value"],ut={class:"form__block"},st=(0,n._)("legend",{class:"form__legend"},"Цвет",-1),dt={class:"colors"},_t={class:"colors__label"},pt=["value"],mt=(0,n._)("button",{class:"filter__submit button button--primery",type:"submit"}," Применить ",-1);function ft(t,e,r,a,i,c){return(0,n.wg)(),(0,n.iD)("aside",R,[G,(0,n._)("form",{class:"filter__form form",action:"#",method:"get",onSubmit:e[5]||(e[5]=(0,o.iM)((function(){return c.submit&&c.submit.apply(c,arguments)}),["prevent"]))},[(0,n._)("fieldset",X,[J,(0,n._)("label",tt,[(0,n.wy)((0,n._)("input",{class:"form__input",type:"text",name:"min-price","onUpdate:modelValue":e[0]||(e[0]=function(t){return i.currentPriceFrom=t})},null,512),[[o.nr,i.currentPriceFrom,void 0,{number:!0}]]),et]),(0,n._)("label",rt,[(0,n.wy)((0,n._)("input",{class:"form__input",type:"text",name:"max-price","onUpdate:modelValue":e[1]||(e[1]=function(t){return i.currentPriceTo=t})},null,512),[[o.nr,i.currentPriceTo,void 0,{number:!0}]]),ot])]),(0,n._)("fieldset",nt,[at,(0,n._)("label",it,[(0,n.wy)((0,n._)("select",{class:"form__select",name:"category","onUpdate:modelValue":e[2]||(e[2]=function(t){return i.currentCategoryId=t})},[ct,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.categories,(function(t){return(0,n.wg)(),(0,n.iD)("option",{value:t.id,key:t.id},(0,b.zw)(t.title),9,lt)})),128))],512),[[o.bM,i.currentCategoryId,void 0,{number:!0}]])])]),(0,n._)("fieldset",ut,[st,(0,n._)("ul",dt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.colors,(function(t){return(0,n.wg)(),(0,n.iD)("li",{class:"colors__item",key:t.id},[(0,n._)("label",_t,[(0,n.wy)((0,n._)("input",{class:"colors__radio sr-only",type:"radio",name:"color",value:t.id,"onUpdate:modelValue":e[3]||(e[3]=function(t){return i.currentColor=t})},null,8,pt),[[o.G2,i.currentColor]]),(0,n._)("span",{class:"colors__value",style:(0,b.j5)({backgroundColor:t.code})},null,4)])])})),128))])]),mt,(0,n._)("button",{class:"filter__reset button button--second",type:"button",onClick:e[4]||(e[4]=function(){return c.reset&&c.reset.apply(c,arguments)})}," Сбросить ")],32)])}var gt=r(6265),ht=r.n(gt);function vt(){return ht().get("".concat(B.Z,"/api/colors"))}function bt(){return ht().get("".concat(B.Z,"/api/productCategories"))}var yt={data:function(){return{currentPriceFrom:0,currentPriceTo:0,currentCategoryId:0,currentColor:0,categoriesData:null,colorsData:null}},props:["priceFrom","priceTo","categoryId","color"],computed:{categories:function(){return this.categoriesData?this.categoriesData.items:[]},colors:function(){return this.colorsData?this.colorsData.items:[]}},watch:{priceFrom:function(t){this.currentPriceFrom=t},priceTo:function(t){this.currentPriceTo=t},categoryId:function(t){this.currentCategoryId=t},color:function(t){this.currentColor=t}},methods:{submit:function(){this.$emit("update:priceFrom",this.currentPriceFrom),this.$emit("update:priceTo",this.currentPriceTo),this.$emit("update:categoryId",this.currentCategoryId),this.$emit("update:color",this.currentColor)},reset:function(){this.$emit("update:priceFrom",0),this.$emit("update:priceTo",0),this.$emit("update:categoryId",0),this.$emit("update:color",0)},loadCategories:function(){var t=this;bt().then((function(e){t.categoriesData=e.data}))},loadColors:function(){var t=this;vt().then((function(e){t.colorsData=e.data}))}},created:function(){this.loadCategories(),this.loadColors()}};const kt=(0,V.Z)(yt,[["render",ft]]);var wt=kt,Pt=r(3121),Ct=(0,n.aZ)({components:{ProductList:L,BasePagination:Q,ProductFilter:wt},setup:function(){var t=(0,Pt.Z)(),e=t.productListData,r=t.fetchProductList,o=t.status,a=t.productListFilter,i=(0,g.iH)(1),c=(0,n.Fl)((function(){return e.value?e.value.pagination.total:0})),l=(0,n.Fl)((function(){return e.value?e.value.items.map((function(t){return(0,f.Z)((0,f.Z)({},t),{},{image:t.image.file.url})})):[]})),u=function(){r(i.value)};return(0,n.YP)([i,a],(function(){u()})),u(),{products:l,countProducts:c,filter:a,page:i,loadProducts:u,loadStatus:o}}});const Dt=(0,V.Z)(Ct,[["render",m]]);var Zt=Dt;function It(t,e,r,o,a,i){return(0,n.wg)(),(0,n.iD)("h1",null,"Страница не найдена.")}var At={};const Ft=(0,V.Z)(At,[["render",It]]);var Ut=Ft,Vt={key:0,class:"content container loader"},zt={key:1,class:"content container loader"},Ot={key:2,class:"content container"},Tt={key:0,class:"content__top"},xt={class:"breadcrumbs"},Lt={class:"breadcrumbs__item"},jt=(0,n.Uk)(" Каталог "),Et={class:"breadcrumbs__item"},Kt={class:"breadcrumbs__item"},St={class:"breadcrumbs__link"};function Mt(t,e,r,o,a,i){var c=(0,n.up)("router-link"),l=(0,n.up)("ProductDetails");return t.productStatus.isLoading?((0,n.wg)(),(0,n.iD)("main",Vt,"Загрузка товара...")):t.productStatus.isFailed?((0,n.wg)(),(0,n.iD)("main",zt," Не удалость загрузить товар. ")):((0,n.wg)(),(0,n.iD)("main",Ot,[t.product&&t.category?((0,n.wg)(),(0,n.iD)("div",Tt,[(0,n._)("ul",xt,[(0,n._)("li",Lt,[(0,n.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,n.w5)((function(){return[jt]})),_:1})]),(0,n._)("li",Et,[(0,n.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,b.zw)(t.category.title),1)]})),_:1})]),(0,n._)("li",Kt,[(0,n._)("a",St,(0,b.zw)(t.product.title),1)])])])):(0,n.kq)("",!0),(0,n.Wm)(l,{product:t.product},null,8,["product"])]))}var $t=r(7893),Wt=(0,n.aZ)({components:{ProductDetails:$t.Z},setup:function(){var t=(0,a.yj)(),e=t.params.id,r=(0,Pt.Z)(),o=r.product,n=r.category,i=r.fetchProduct,c=r.status;return i(e),{product:o,category:n,productStatus:c}}});const qt=(0,V.Z)(Wt,[["render",Mt]]);var Ht=qt,Bt={class:"content container"},Yt={class:"content__top"},Nt={class:"breadcrumbs"},Qt={class:"breadcrumbs__item"},Rt=(0,n.Uk)(" Каталог "),Gt=(0,n._)("li",{class:"breadcrumbs__item"},[(0,n._)("a",{class:"breadcrumbs__link"}," Корзина ")],-1),Xt=(0,n._)("h1",{class:"content__title"}," Корзина ",-1),Jt={class:"content__info"},te={key:0,class:"cart"},ee={class:"cart__form form",action:"#",method:"POST"},re={class:"cart__field"},oe={class:"cart__list"},ne={class:"cart__block"},ae=(0,n._)("p",{class:"cart__desc"}," Мы посчитаем стоимость доставки на следующем этапе ",-1),ie={class:"cart__price"},ce=(0,n.Uk)(" Итого: "),le=["disabled","onClick"],ue={key:1,class:"cart-empty"},se=(0,n._)("h2",{class:"cart-empty__title"},"В корзине нет ни одного товара",-1),de=(0,n.Uk)("Перейти к покупкам");function _e(t,e,r,o,a,i){var c=(0,n.up)("router-link"),l=(0,n.up)("CartItem");return(0,n.wg)(),(0,n.iD)("main",Bt,[(0,n._)("div",Yt,[(0,n._)("ul",Nt,[(0,n._)("li",Qt,[(0,n.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,n.w5)((function(){return[Rt]})),_:1})]),Gt]),Xt,(0,n._)("span",Jt,(0,b.zw)(t.products.length)+" "+(0,b.zw)(t.wordProductFormat),1)]),t.products.length?((0,n.wg)(),(0,n.iD)("section",te,[(0,n._)("form",ee,[(0,n._)("div",re,[(0,n._)("ul",oe,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.products,(function(t){return(0,n.wg)(),(0,n.j4)(l,{item:t,key:t.productId},null,8,["item"])})),128))])]),(0,n._)("div",ne,[ae,(0,n._)("p",ie,[ce,(0,n._)("span",null,(0,b.zw)(t.totalPricePretty)+" ₽",1)]),(0,n.Wm)(c,{to:{name:"order"},custom:""},{default:(0,n.w5)((function(e){var r=e.navigate;return[(0,n._)("button",{class:"cart__button button button--primery",disabled:!t.totalPrice,onClick:r}," Оформить заказ ",8,le)]})),_:1})])])])):((0,n.wg)(),(0,n.iD)("section",ue,[se,(0,n.Wm)(c,{class:"cart-empty__link",to:{name:"main"}},{default:(0,n.w5)((function(){return[de]})),_:1})]))])}var pe={class:"cart__item product"},me={class:"product__pic"},fe=["src","alt"],ge={class:"product__title"},he=(0,n._)("p",{class:"product__info product__info--color"},[(0,n.Uk)(" Цвет: "),(0,n._)("span",null,[(0,n._)("i",{style:{"background-color":"#FF6B00"}}),(0,n.Uk)(" Оранжевый ")])],-1),ve={class:"product__code"},be={class:"product__counter form__counter"},ye=(0,n._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,n._)("use",{"xlink:href":"#icon-minus"})],-1),ke=[ye],we=(0,n._)("svg",{width:"10",height:"10",fill:"currentColor"},[(0,n._)("use",{"xlink:href":"#icon-plus"})],-1),Pe=[we],Ce={class:"product__price"},De=(0,n._)("svg",{width:"20",height:"20",fill:"currentColor"},[(0,n._)("use",{"xlink:href":"#icon-close"})],-1),Ze=[De];function Ie(t,e,r,a,i,c){return(0,n.wg)(),(0,n.iD)("li",pe,[(0,n._)("div",me,[(0,n._)("img",{src:t.item.product.image,width:"120",height:"120",alt:t.item.product.title},null,8,fe)]),(0,n._)("h3",ge,(0,b.zw)(t.item.product.title),1),he,(0,n._)("span",ve," Артикул: "+(0,b.zw)(t.item.product.id),1),(0,n._)("div",be,[(0,n._)("button",{type:"button","aria-label":"Убрать один товар",onClick:e[0]||(e[0]=(0,o.iM)((function(){return t.downProductAmount&&t.downProductAmount.apply(t,arguments)}),["prevent"]))},ke),(0,n._)("label",null,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.amount=e}),name:"count"},null,512),[[o.nr,t.amount,void 0,{number:!0}]])]),(0,n._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[2]||(e[2]=(0,o.iM)((function(){return t.upProductAmount&&t.upProductAmount.apply(t,arguments)}),["prevent"]))},Pe)]),(0,n._)("b",Ce,(0,b.zw)(t.totalPricePretty)+" ₽ ",1),(0,n._)("button",{class:"product__del button-del",type:"button","aria-label":"Удалить товар из корзины",onClick:e[3]||(e[3]=(0,o.iM)((function(e){return t.deleteProduct(t.item.productId)}),["prevent"]))},Ze)])}var Ae=r(9321),Fe=r(5448),Ue=(0,n.aZ)({props:["item"],setup:function(t){var e=(0,Fe.Z)(),r=e.doUpdateAmount,o=e.doDelete,a=(0,n.Fl)((function(){return(0,A.Z)(t.item.product.price*t.item.amount)})),i=(0,n.Fl)({get:function(){return t.item.amount},set:function(e){r(t.item.productId,e)}}),c=(0,Ae.Z)(i),l=c.doUpCount,u=c.doDownCount;return{totalPricePretty:a,amount:i,upProductAmount:l,downProductAmount:u,deleteProduct:o}}});const Ve=(0,V.Z)(Ue,[["render",Ie]]);var ze=Ve;function Oe(t,e){return e%100>=11&&e%100<=20?"".concat(t,"ов"):e%10===1?t:"".concat(t,e%10>=2&&e%10<=4?"a":"ов")}var Te=(0,n.aZ)({components:{CartItem:ze},setup:function(){var t=(0,Fe.Z)(),e=t.products,r=t.totalPrice,o=(0,n.Fl)((function(){return(0,A.Z)(r.value)})),a=(0,n.Fl)((function(){return Oe("товар",e.value.length)}));return{products:e,totalPrice:r,totalPricePretty:o,wordProductFormat:a}}});const xe=(0,V.Z)(Te,[["render",_e]]);var Le=xe,je=(r(8309),{class:"content container"}),Ee={class:"content__top"},Ke={class:"breadcrumbs"},Se={class:"breadcrumbs__item"},Me=(0,n.Uk)(" Каталог "),$e={class:"breadcrumbs__item"},We=(0,n.Uk)(" Корзина "),qe=(0,n._)("li",{class:"breadcrumbs__item"},[(0,n._)("a",{class:"breadcrumbs__link"}," Оформление заказа ")],-1),He=(0,n._)("h1",{class:"content__title"}," Корзина ",-1),Be={class:"content__info"},Ye={class:"cart"},Ne={key:0,class:"ghost"},Qe=(0,n._)("div",{class:"loader"},"Загрузка...",-1),Re=[Qe],Ge={class:"cart__field"},Xe={class:"cart__data"},Je=(0,n.uE)('<div class="cart__options"><h3 class="cart__title">Доставка</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="0" checked=""><span class="options__value"> Самовывоз <b>бесплатно</b></span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="delivery" value="500"><span class="options__value"> Курьером <b>500 ₽</b></span></label></li></ul><h3 class="cart__title">Оплата</h3><ul class="cart__options options"><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="card"><span class="options__value"> Картой при получении </span></label></li><li class="options__item"><label class="options__label"><input class="options__radio sr-only" type="radio" name="pay" value="cash"><span class="options__value"> Наличными при получении </span></label></li></ul></div>',1),tr={class:"cart__block"},er={class:"cart__orders"},rr={class:"cart__total"},or=(0,n._)("p",null,[(0,n.Uk)("Доставка: "),(0,n._)("b",null,"500 ₽")],-1),nr=(0,n.Uk)("Итого: "),ar=(0,n._)("button",{class:"cart__button button button--primery",type:"submit"}," Оформить заказ ",-1),ir={key:0,class:"cart__error form__error-block"},cr=(0,n._)("h4",null,"Заявка не отправлена!",-1);function lr(t,e,r,a,i,c){var l=(0,n.up)("router-link"),u=(0,n.up)("BaseFormText"),s=(0,n.up)("BaseFormTextarea"),d=(0,n.up)("OrderItem");return(0,n.wg)(),(0,n.iD)("main",je,[(0,n._)("div",Ee,[(0,n._)("ul",Ke,[(0,n._)("li",Se,[(0,n.Wm)(l,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,n.w5)((function(){return[Me]})),_:1})]),(0,n._)("li",$e,[(0,n.Wm)(l,{class:"breadcrumbs__link",to:{name:"cart"}},{default:(0,n.w5)((function(){return[We]})),_:1})]),qe]),He,(0,n._)("span",Be,(0,b.zw)(t.products.length)+" "+(0,b.zw)(c.wordProductFormat),1)]),(0,n._)("section",Ye,[i.orderLoading?((0,n.wg)(),(0,n.iD)("div",Ne,Re)):(0,n.kq)("",!0),(0,n._)("form",{class:"cart__form form",action:"#",method:"POST",onSubmit:e[5]||(e[5]=(0,o.iM)((function(){return c.order&&c.order.apply(c,arguments)}),["prevent"]))},[(0,n._)("div",Ge,[(0,n._)("div",Xe,[(0,n.Wm)(u,{title:"ФИО",error:i.formError.name,modelValue:i.formData.name,"onUpdate:modelValue":e[0]||(e[0]=function(t){return i.formData.name=t}),placeholder:"Введите ваше полное имя"},null,8,["error","modelValue"]),(0,n.Wm)(u,{title:"Адрес доставки",error:i.formError.address,modelValue:i.formData.address,"onUpdate:modelValue":e[1]||(e[1]=function(t){return i.formData.address=t}),placeholder:"Введите ваш адрес"},null,8,["error","modelValue"]),(0,n.Wm)(u,{title:"Телефон",error:i.formError.phone,modelValue:i.formData.phone,"onUpdate:modelValue":e[2]||(e[2]=function(t){return i.formData.phone=t}),type:"'tel",placeholder:"Введите ваш телефон"},null,8,["error","modelValue"]),(0,n.Wm)(u,{title:"Email",error:i.formError.email,modelValue:i.formData.email,"onUpdate:modelValue":e[3]||(e[3]=function(t){return i.formData.email=t}),type:"'email",placeholder:"Введите ваш Email"},null,8,["error","modelValue"]),(0,n.Wm)(s,{title:"Комментарий к заказу",error:i.formError.comment,modelValue:i.formData.comment,"onUpdate:modelValue":e[4]||(e[4]=function(t){return i.formData.comment=t}),placeholder:"Ваши пожелания"},null,8,["error","modelValue"])]),Je]),(0,n._)("div",tr,[(0,n._)("ul",er,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.products,(function(t){return(0,n.wg)(),(0,n.j4)(d,{item:t,key:t.productId},null,8,["item"])})),128))]),(0,n._)("div",rr,[or,(0,n._)("p",null,[nr,(0,n._)("b",null,(0,b.zw)(t.products.length),1),(0,n.Uk)(" "+(0,b.zw)(c.wordProductFormat)+" на сумму ",1),(0,n._)("b",null,(0,b.zw)(c.totalPricePretty)+" ₽",1)])]),ar]),i.formErrorMessage?((0,n.wg)(),(0,n.iD)("div",ir,[cr,(0,n._)("p",null,(0,b.zw)(i.formErrorMessage),1)])):(0,n.kq)("",!0)],32)])])}var ur={class:"cart__order"};function sr(t,e,r,o,a,i){return(0,n.wg)(),(0,n.iD)("li",ur,[(0,n._)("h3",null,(0,b.zw)(r.item.product.title),1),(0,n._)("b",null,(0,b.zw)(r.item.amount)+" X "+(0,b.zw)(i.pricePretty)+" ₽",1),(0,n._)("span",null,"Артикул: "+(0,b.zw)(r.item.product.id),1)])}var dr={props:["item"],computed:{pricePretty:function(){return(0,A.Z)(this.item.product.price)}}};const _r=(0,V.Z)(dr,[["render",sr]]);var pr=_r,mr=["type","placeholder"];function fr(t,e,r,a,i,c){var l=(0,n.up)("BaseFormField");return(0,n.wg)(),(0,n.j4)(l,{error:t.error,title:t.title},{default:(0,n.w5)((function(){return[(0,n.wy)((0,n._)("input",{class:"form__input","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.dataValue=e}),type:r.type,placeholder:t.placeholder},null,8,mr),[[o.YZ,t.dataValue]])]})),_:1},8,["error","title"])}var gr={class:"form__label"},hr={class:"form__value"},vr={key:0,class:"form__error"};function br(t,e,r,o,a,i){return(0,n.wg)(),(0,n.iD)("label",gr,[(0,n.WI)(t.$slots,"default"),(0,n._)("span",hr,(0,b.zw)(r.title),1),r.error?((0,n.wg)(),(0,n.iD)("span",vr,(0,b.zw)(r.error),1)):(0,n.kq)("",!0)])}var yr={props:["title","error"]};const kr=(0,V.Z)(yr,[["render",br]]);var wr=kr,Pr={props:["title","error","placeholder","modelValue"],components:{BaseFormField:wr},computed:{dataValue:{get:function(){return this.modelValue},set:function(t){this.$emit("update:modelValue",t)}}}},Cr={props:{type:{default:"text"}},mixins:[Pr]};const Dr=(0,V.Z)(Cr,[["render",fr]]);var Zr=Dr,Ir=["placeholder"];function Ar(t,e,r,a,i,c){var l=(0,n.up)("BaseFormField");return(0,n.wg)(),(0,n.j4)(l,{error:t.error,title:t.title},{default:(0,n.w5)((function(){return[(0,n.wy)((0,n._)("textarea",{class:"form__input form__input--area","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.dataValue=e}),placeholder:t.placeholder},null,8,Ir),[[o.nr,t.dataValue]])]})),_:1},8,["error","title"])}var Fr={mixins:[Pr]};const Ur=(0,V.Z)(Fr,[["render",Ar]]);var Vr=Ur,zr=r(4824),Or=(r(2222),"".concat(B.Z,"/api/orders")),Tr={get:function(t,e){return ht().get("".concat(Or,"/").concat(t),{params:e})},create:function(t,e){return ht().post(Or,t,{params:e})}},xr={components:{BaseFormText:Zr,BaseFormTextarea:Vr,OrderItem:pr},data:function(){return{formData:{},formError:{},formErrorMessage:"",orderLoading:!1}},computed:(0,f.Z)((0,f.Z)({},(0,zr.Se)({products:"cartDetailProducts",totalPrice:"cartTotalPrice"})),{},{totalPricePretty:function(){return(0,A.Z)(this.totalPrice)},wordProductFormat:function(){return Oe("товар",this.products.length)}}),methods:{order:function(){var t=this;this.formError={},this.formErrorMessage="",this.orderLoading=!0,Tr.create((0,f.Z)({},this.formData),{userAccessKey:this.$store.state.userAccessKey}).then((function(e){t.$store.commit("resetCart"),t.$store.commit("updateOrderInfo",e.data),t.$router.push({name:"orderInfo",params:{id:e.data.id}})})).catch((function(e){t.formError=e.response.data.error.request||{},t.formErrorMessage=e.response.data.error.message})).finally((function(){t.orderLoading=!1}))}}};const Lr=(0,V.Z)(xr,[["render",lr]]);var jr=Lr,Er={class:"content container"},Kr={class:"content__top"},Sr={class:"breadcrumbs"},Mr={class:"breadcrumbs__item"},$r=(0,n.Uk)(" Каталог "),Wr={class:"breadcrumbs__item"},qr=(0,n.Uk)(" Корзина "),Hr=(0,n._)("li",{class:"breadcrumbs__item"},[(0,n._)("a",{class:"breadcrumbs__link"}," Оформление заказа ")],-1),Br={key:0,class:"loader"},Yr={key:1,class:"loader"},Nr={key:2,class:"content__title"},Qr=(0,n.Uk)(" Заказ оформлен "),Rr={key:0,class:"cart"},Gr={class:"cart__form form",action:"#",method:"POST"},Xr={class:"cart__field"},Jr=(0,n._)("p",{class:"cart__message"}," Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ",-1),to={class:"dictionary"},eo={class:"dictionary__item"},ro=(0,n._)("span",{class:"dictionary__key"}," Получатель ",-1),oo={class:"dictionary__value"},no={class:"dictionary__item"},ao=(0,n._)("span",{class:"dictionary__key"}," Адрес доставки ",-1),io={class:"dictionary__value"},co={class:"dictionary__item"},lo=(0,n._)("span",{class:"dictionary__key"}," Телефон ",-1),uo={class:"dictionary__value"},so={class:"dictionary__item"},_o=(0,n._)("span",{class:"dictionary__key"}," Email ",-1),po={class:"dictionary__value"},mo=(0,n._)("li",{class:"dictionary__item"},[(0,n._)("span",{class:"dictionary__key"}," Способ оплаты "),(0,n._)("span",{class:"dictionary__value"}," картой при получении ")],-1),fo={class:"cart__block"},go={class:"cart__orders"},ho={class:"cart__total"},vo=(0,n._)("p",null,[(0,n.Uk)("Доставка: "),(0,n._)("b",null,"500 ₽")],-1),bo=(0,n.Uk)("Итого: ");function yo(t,e,r,o,a,i){var c=(0,n.up)("router-link"),l=(0,n.up)("OrderItem");return(0,n.wg)(),(0,n.iD)("main",Er,[(0,n._)("div",Kr,[(0,n._)("ul",Sr,[(0,n._)("li",Mr,[(0,n.Wm)(c,{class:"breadcrumbs__link",to:{name:"main"}},{default:(0,n.w5)((function(){return[$r]})),_:1})]),(0,n._)("li",Wr,[(0,n.Wm)(c,{class:"breadcrumbs__link",to:{name:"cart"}},{default:(0,n.w5)((function(){return[qr]})),_:1})]),Hr]),a.orderLoader?((0,n.wg)(),(0,n.iD)("div",Br,"Загрузка")):(0,n.kq)("",!0),a.orderErrorLoad?((0,n.wg)(),(0,n.iD)("div",Yr,"Не удалось загрузить информацию о заказе")):(0,n.kq)("",!0),a.orderData?((0,n.wg)(),(0,n.iD)("h1",Nr,[Qr,(0,n._)("span",null,"№ "+(0,b.zw)(i.order.id),1)])):(0,n.kq)("",!0)]),a.orderData?((0,n.wg)(),(0,n.iD)("section",Rr,[(0,n._)("form",Gr,[(0,n._)("div",Xr,[Jr,(0,n._)("ul",to,[(0,n._)("li",eo,[ro,(0,n._)("span",oo,(0,b.zw)(i.order.name),1)]),(0,n._)("li",no,[ao,(0,n._)("span",io,(0,b.zw)(i.order.address),1)]),(0,n._)("li",co,[lo,(0,n._)("span",uo,(0,b.zw)(i.order.phone),1)]),(0,n._)("li",so,[_o,(0,n._)("span",po,(0,b.zw)(i.order.email),1)]),mo])]),(0,n._)("div",fo,[(0,n._)("ul",go,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.order.basket.items,(function(t){return(0,n.wg)(),(0,n.j4)(l,{item:t,key:t.id},null,8,["item"])})),128))]),(0,n._)("div",ho,[vo,(0,n._)("p",null,[bo,(0,n._)("b",null,(0,b.zw)(i.order.basket.items.length),1),(0,n.Uk)(" "+(0,b.zw)(i.wordProductFormat)+" на сумму ",1),(0,n._)("b",null,(0,b.zw)(i.totalPricePretty)+" ₽",1)])])])])])):(0,n.kq)("",!0)])}var ko={components:{OrderItem:pr},data:function(){return{orderLoader:!1,orderErrorLoad:!1,orderData:null}},computed:{order:function(){return(0,f.Z)((0,f.Z)({},this.orderData),{},{basket:(0,f.Z)((0,f.Z)({},this.orderData.basket),{},{items:this.orderData.basket.items.map((function(t){return(0,f.Z)((0,f.Z)({},t),{},{amount:t.quantity})}))})})},totalPricePretty:function(){return(0,A.Z)(this.order.totalPrice)},wordProductFormat:function(){return Oe("товар",this.order.basket.items.length)}},methods:(0,f.Z)({},(0,zr.nv)(["loadOrderInfo"])),created:function(){var t=this;if(this.orderLoader=!0,this.orderErrorLoad=!1,this.$store.state.orderInfo&&this.$store.state.orderInfo.id===this.$route.params.id)return this.orderData=this.$store.state.orderInfo,void(this.orderLoader=!1);this.loadOrderInfo(this.$route.params.id).then((function(){t.orderData=t.$store.state.orderInfo})).catch((function(){t.orderErrorLoad=!0})).finally((function(){t.orderLoader=!1}))}};const wo=(0,V.Z)(ko,[["render",yo]]);var Po=wo,Co=[{name:"main",component:Zt,path:"/"},{name:"product",component:Ht,path:"/product/:id"},{name:"cart",component:Le,path:"/cart"},{name:"order",component:jr,path:"/order"},{name:"orderInfo",component:Po,path:"/order/:id"},{name:"notFound",component:Ut,path:"/:pathMatch(.*)*"}],Do=(0,a.p7)({history:(0,a.r5)(),routes:Co}),Zo=Do,Io=(r(9826),"".concat(B.Z,"/api/baskets")),Ao={getProduct:function(t){return ht().get(Io,{params:t})},addProduct:function(t,e){return ht().post("".concat(Io,"/products"),t,{params:e})},updateAmountProduct:function(t,e){return ht().put("".concat(Io,"/products"),t,{params:e})},deleteProduct:function(t,e){return ht()["delete"]("".concat(Io,"/products"),{data:t,params:e})}},Fo=(0,zr.MT)({state:{cartProducts:[],userAccessKey:null,cartProductsData:null,orderInfo:null},mutations:{updateOrderInfo:function(t,e){t.orderInfo=e},resetCart:function(t){t.cartProducts=[],t.cartProductsData=[]},updateCardProductAmount:function(t,e){var r=e.productId,o=e.amount,n=t.cartProducts.find((function(t){return t.productId===r}));n&&(n.amount=o)},deleteCartProduct:function(t,e){t.cartProducts=t.cartProducts.filter((function(t){return t.productId!==e}))},updateUserAccessKey:function(t,e){t.userAccessKey=e},updateCartProductsData:function(t,e){t.cartProductsData=e},syncCartProducts:function(t){t.cartProducts=t.cartProductsData.map((function(t){return{productId:t.product.id,amount:t.quantity}}))}},getters:{cartDetailProducts:function(t){return t.cartProducts.map((function(e){var r=t.cartProductsData.find((function(t){return t.product.id===e.productId})),o=r.product;return(0,f.Z)((0,f.Z)({},e),{},{product:(0,f.Z)((0,f.Z)({},o),{},{image:o.image.file.url})})}))},cartTotalPrice:function(t,e){return e.cartDetailProducts.reduce((function(t,e){return e.product.price*e.amount+t}),0)}},actions:{loadOrderInfo:function(t,e){return Tr.get(e,{userAccessKey:t.state.userAccessKey}).then((function(e){t.commit("updateOrderInfo",e.data)}))},loadCart:function(t){return Ao.getProduct({userAccessKey:t.state.userAccessKey}).then((function(e){t.state.userAccessKey||(localStorage.setItem("userAccessKey",e.data.user.accessKey),t.commit("updateUserAccessKey",e.data.user.accessKey)),t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},addProductToCart:function(t,e){var r=e.productId,o=e.amount;return Ao.addProduct({productId:r,quantity:o},{userAccessKey:t.state.userAccessKey}).then((function(e){t.commit("updateCartProductsData",e.data.items),t.commit("syncCartProducts")}))},updateCardProductAmount:function(t,e){var r=e.productId,o=e.amount;return t.commit("updateCardProductAmount",{productId:r,amount:o}),!(o<1)&&Ao.updateAmountProduct({productId:r,quantity:o},{userAccessKey:t.state.userAccessKey}).then((function(e){t.commit("updateCartProductsData",e.data.items)})).catch((function(){t.commit("syncCartProducts")}))},deleteCartProduct:function(t,e){return Ao.deleteProduct({productId:e},{userAccessKey:t.state.userAccessKey}).then((function(){t.commit("deleteCartProduct",e)}))}}}),Uo={class:"header"},Vo={class:"header__wrapper container"},zo=(0,n._)("span",{class:"header__info"},"Каталог",-1),Oo=(0,n._)("a",{class:"header__logo",href:"#"},[(0,n._)("img",{src:"img/svg/logo-tech.svg",alt:"Логотип интернет магазина Технозавррр",width:"190",height:"33"})],-1),To=(0,n._)("a",{class:"header__tel",href:"tel:88006009009"}," 8 800 600 90 09 ",-1),xo=(0,n.uE)('<footer class="footer"><div class="footer__wrapper container"><ul class="footer__links"><li><a class="footer__link" href="#"> Каталог </a></li><li><a class="footer__link" href="tel:88006009009"> 8 800 600 90 09 </a></li><li><a class="footer__link" href="mailto:hi@technozavrrr.com"> hi@technozavrrr.com </a></li><li><a class="footer__link" href="#"> Распродажа </a></li><li><a class="footer__link footer__link--medium" href="#"> Заказать звонок </a></li></ul><ul class="footer__social social"><li class="social__item"><a class="social__link" href="#" aria-label="Вконтакте"><svg width="20" height="11" fill="currentColor"><use xlink:href="#icon-vk"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Инстаграм"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-insta"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Facebook"><svg width="17" height="17" fill="currentColor"><use xlink:href="#icon-facebook"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Twitter"><svg width="17" height="14" fill="currentColor"><use xlink:href="#icon-twitter"></use></svg></a></li><li class="social__item"><a class="social__link" href="#" aria-label="Telegram"><svg width="19" height="17" fill="currentColor"><use xlink:href="#icon-telegram"></use></svg></a></li></ul><p class="footer__desc"> Все права на материалы, находящиеся на сайте, охраняются в соответствии с законодательством РФ, в том числе об авторском праве и смежных правах. </p><ul class="footer__data"><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Политика конфиденциальности </a></li><li><a class="footer__link" href="#" target="_blank" rel="noopener" type="application/pdf"> Публичная оферта </a></li></ul><span class="footer__copyright"> © 2020 Технозавррр </span></div></footer><div id="teleport-target"></div>',2);function Lo(t,e,r,o,a,i){var c=(0,n.up)("CartIndicator"),l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",Uo,[(0,n._)("div",Vo,[zo,Oo,To,(0,n.Wm)(c)])]),((0,n.wg)(),(0,n.j4)(l,{key:t.$route.fullPath})),xo],64)}var jo=(0,n._)("svg",{width:"30",height:"21",fill:"currentColor"},[(0,n._)("use",{"xlink:href":"#icon-cart"})],-1);function Eo(t,e,r,a,i,c){var l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.j4)(l,{class:"header__cart",to:{name:"cart"},"aria-label":"Корзина с товарами"},{default:(0,n.w5)((function(){return[jo,(0,n.wy)((0,n._)("span",{class:"header__count","aria-label":"Количество товаров"},(0,b.zw)(c.amountProducts),513),[[o.F8,c.amountProducts]])]})),_:1})}var Ko={computed:{amountProducts:function(){return this.$store.state.cartProducts.length}}};const So=(0,V.Z)(Ko,[["render",Eo]]);var Mo=So,$o={components:{CartIndicator:Mo},created:function(){var t=localStorage.getItem("userAccessKey");t&&this.updateUserAccessKey(t),this.loadCart()},methods:(0,f.Z)((0,f.Z)({},(0,zr.nv)(["loadCart"])),(0,zr.OI)(["updateUserAccessKey"]))};const Wo=(0,V.Z)($o,[["render",Lo]]);var qo=Wo,Ho=(0,o.ri)({router:Zo,store:Fo,render:function(){return(0,n.h)(qo)}});Ho.use(Zo),Ho.use(Fo),Ho.mount("#app")},6910:function(t,e,r){r.d(e,{Z:function(){return p}});var o=r(3396),n={ref:"contentElement",class:"modal"},a={class:"modal__content"};function i(t,e,r,i,c,l){return t.open?((0,o.wg)(),(0,o.j4)(o.lR,{key:0,to:"#teleport-target"},[(0,o._)("div",{class:"modal-wrapper",onClick:e[1]||(e[1]=function(){return t.onOutsideClick&&t.onOutsideClick.apply(t,arguments)})},[(0,o._)("div",n,[(0,o._)("button",{class:"modal__close-btn",onClick:e[0]||(e[0]=function(){return t.doClose&&t.doClose.apply(t,arguments)})},"X"),(0,o._)("div",a,[(0,o.WI)(t.$slots,"default")])],512)])])):(0,o.kq)("",!0)}var c=r(4870),l=(r(1539),r(189),r(8783),r(3948),(0,c.iH)(new Set)),u=function(){var t=(0,o.FN)(),e=t.uid,r=(0,c.iH)(!1),n=function(){r.value=!0,l.value.add(e)},a=function(){r.value=!1,l.value.delete(e)},i=(0,o.Fl)((function(){return l.value.size})),u=function(){i.value?(document.body.style.overflow="hidden",document.body.style.paddingRight="".concat(window.innerWidth-document.documentElement.clientWidth,"px")):(document.body.style.overflow=null,document.body.style.paddingRight=null)};return(0,o.YP)(i,(function(){u()})),{doOpen:n,doClose:a,isOpen:r,isSomeOpen:i}},s=(0,o.aZ)({props:{open:{type:Boolean}},setup:function(t,e){var r=e.emit,n=(0,c.iH)(null),a=u(),i=a.doOpen,l=a.doClose,s=function(){r("update:open",!1)},d=function(t){t.target!==n.value&&t.target.contains(n.value)&&s()};return(0,o.YP)((function(){return t.open}),(function(t){t?i():l()}),{immediate:!0}),{doClose:s,onOutsideClick:d,contentElement:n}}}),d=r(89);const _=(0,d.Z)(s,[["render",i]]);var p=_},7893:function(t,e,r){r.d(e,{Z:function(){return S}});var o=r(3396),n=r(7139),a=r(5772),i=function(t){return(0,o.dD)("data-v-1b6f50a4"),t=t(),(0,o.Cn)(),t},c={class:"item"},l={class:"item__pics pics"},u={class:"pics__wrapper"},s=["src","alt"],d={class:"item__info"},_={class:"item__code"},p={class:"item__title"},m={class:"item__form"},f={class:"item__price"},g={class:"form__block"},h=i((function(){return(0,o._)("legend",{class:"form__legend"},"Цвет:",-1)})),v={class:"colors"},b={class:"colors__label"},y=["value"],k={class:"item__row"},w={class:"form__counter"},P=i((function(){return(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-minus"})],-1)})),C=[P],D=i((function(){return(0,o._)("svg",{width:"12",height:"12",fill:"currentColor"},[(0,o._)("use",{"xlink:href":"#icon-plus"})],-1)})),Z=[D],I=["disabled"],A={class:"loader loader--small"},F=(0,o.Uk)("Товар добавлен в корзину"),U={class:"item__desc"},V=(0,o.uE)('<ul class="tabs" data-v-1b6f50a4><li class="tabs__item" data-v-1b6f50a4><a class="tabs__link tabs__link--current" data-v-1b6f50a4> Описание </a></li><li class="tabs__item" data-v-1b6f50a4><a class="tabs__link" href="#" data-v-1b6f50a4> Характеристики </a></li><li class="tabs__item" data-v-1b6f50a4><a class="tabs__link" href="#" data-v-1b6f50a4> Гарантия </a></li><li class="tabs__item" data-v-1b6f50a4><a class="tabs__link" href="#" data-v-1b6f50a4> Оплата и доставка </a></li></ul>',1),z={class:"item__content"};function O(t,e,r,i,P,D){var O=(0,o.up)("BaseModal");return(0,o.wg)(),(0,o.iD)("section",c,[(0,o._)("div",l,[(0,o._)("div",u,[(0,o._)("img",{src:t.product.image,alt:t.product.title},null,8,s)])]),(0,o._)("div",d,[(0,o._)("span",_,"Артикул: "+(0,n.zw)(t.product.id),1),(0,o._)("h2",p,(0,n.zw)(t.product.title),1),(0,o._)("div",m,[(0,o._)("form",{class:"form",action:"#",method:"POST",onSubmit:e[4]||(e[4]=(0,a.iM)((function(){return t.doAddToCart&&t.doAddToCart.apply(t,arguments)}),["prevent"]))},[(0,o._)("b",f,(0,n.zw)(t.product.pricePretty)+" ₽ ",1),(0,o._)("fieldset",g,[h,(0,o._)("ul",v,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.product.colors,(function(t){return(0,o.wg)(),(0,o.iD)("li",{class:"colors__item",key:t.id},[(0,o._)("label",b,[(0,o._)("input",{class:"colors__radio sr-only",type:"radio",name:"color-item",value:t.id},null,8,y),(0,o._)("span",{class:"colors__value",style:(0,n.j5)({backgroundColor:t.code})},null,4)])])})),128))])]),(0,o._)("div",k,[(0,o._)("div",w,[(0,o._)("button",{type:"button",class:(0,n.C_)({disabled:t.productAmount<=1}),"aria-label":"Убрать один товар",onClick:e[0]||(e[0]=function(){return t.doDownProductAmount&&t.doDownProductAmount.apply(t,arguments)})},C,2),(0,o._)("label",null,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.productAmount=e}),name:"count"},null,512),[[a.nr,t.productAmount,void 0,{number:!0}]])]),(0,o._)("button",{type:"button","aria-label":"Добавить один товар",onClick:e[2]||(e[2]=function(){return t.doUpProductAmount&&t.doUpProductAmount.apply(t,arguments)})},Z)]),(0,o._)("button",{class:(0,n.C_)(["button button--primery",{"button--load":t.isProductAddSending}]),type:"submit",disabled:t.isProductAddSending},[(0,o.wy)((0,o._)("span",null,"В корзину",512),[[a.F8,!t.isProductAddSending]]),(0,o.wy)((0,o._)("span",A,null,512),[[a.F8,t.isProductAddSending]])],10,I),(0,o.Wm)(O,{open:t.isProductAdded,"onUpdate:open":e[3]||(e[3]=function(e){return t.isProductAdded=e})},{default:(0,o.w5)((function(){return[F]})),_:1},8,["open"])])],32)])]),(0,o._)("div",U,[V,(0,o._)("div",z,[(0,o._)("p",null,(0,n.zw)(t.product.content),1)])])])}var T=r(6910),x=r(9321),L=r(5448),j=(0,o.aZ)({props:{product:{type:[Object],required:!0}},components:{BaseModal:T.Z},setup:function(t){var e=(0,x.Z)(1),r=e.count,o=e.doUpCount,n=e.doDownCount,a=(0,L.Z)(),i=a.isAddSending,c=a.isAdded,l=a.doAdd,u=function(){l(r.value,t.product.id),r.value=1};return{isProductAddSending:i,isProductAdded:c,productAmount:r,doDownProductAmount:n,doUpProductAmount:o,doAddToCart:u}}}),E=r(89);const K=(0,E.Z)(j,[["render",O],["__scopeId","data-v-1b6f50a4"]]);var S=K}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var a=e[o]={id:o,loaded:!1,exports:{}};return t[o](a,a.exports,r),a.loaded=!0,a.exports}r.m=t,function(){var t=[];r.O=function(e,o,n,a){if(!o){var i=1/0;for(s=0;s<t.length;s++){o=t[s][0],n=t[s][1],a=t[s][2];for(var c=!0,l=0;l<o.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((function(t){return r.O[t](o[l])}))?o.splice(l--,1):(c=!1,a<i&&(i=a));if(c){t.splice(s--,1);var u=n();void 0!==u&&(e=u)}}return e}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[o,n,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,o){return r.f[o](t,e),e}),[]))}}(),function(){r.u=function(t){return"js/"+t+"-legacy.0afccb52.js"}}(),function(){r.miniCssF=function(t){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vue_project:";r.l=function(o,n,a,i){if(t[o])t[o].push(n);else{var c,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),s=0;s<u.length;s++){var d=u[s];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==e+a){c=d;break}}c||(l=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.setAttribute("data-webpack",e+a),c.src=o),t[o]=[n];var _=function(e,r){c.onerror=c.onload=null,clearTimeout(p);var n=t[o];if(delete t[o],c.parentNode&&c.parentNode.removeChild(c),n&&n.forEach((function(t){return t(r)})),e)return e(r)},p=setTimeout(_.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=_.bind(null,c.onerror),c.onload=_.bind(null,c.onload),l&&document.head.appendChild(c)}}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){r.p="/vue-app/"}(),function(){var t={143:0};r.f.j=function(e,o){var n=r.o(t,e)?t[e]:void 0;if(0!==n)if(n)o.push(n[2]);else{var a=new Promise((function(r,o){n=t[e]=[r,o]}));o.push(n[2]=a);var i=r.p+r.u(e),c=new Error,l=function(o){if(r.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,n[1](c)}};r.l(i,l,"chunk-"+e,e)}},r.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,a,i=o[0],c=o[1],l=o[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(l)var s=l(r)}for(e&&e(o);u<i.length;u++)a=i[u],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(s)},o=self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(3088)}));o=r.O(o)})();
//# sourceMappingURL=app-legacy.7d1e30a5.js.map